# TechStore - Tienda de Tecnología

## Overview
TechStore is a modern, professional online technology store built with ASP.NET Core 8.0 Blazor Server. It enables users to browse, customize, and purchase tech products, including hardware (laptops, PCs, monitors), software (licenses, office suites), and IT services (technical support, custom development). The project aims to demonstrate a fully functional e-commerce platform with robust authentication, an interactive product catalog, product customization, a shopping cart, and an order management system, all within a modern UI/UX design.

## User Preferences
I prefer detailed explanations.
Do not make changes to the folder `Z`.
Do not make changes to the file `Y`.

## System Architecture

### UI/UX Decisions
The application features a modern, professional design with a dark theme utilizing cyan and black gradients. It employs the Inter typeface, smooth animations, and fluid transitions. The interface is responsive and optimized for various devices, incorporating hover effects and interactive states. Key design elements include a professionally styled navbar with animated elements, a shopping cart with visual feedback, and a user menu with a smooth dropdown animation.

### Technical Implementations
- **Authentication System**: Full login and registration with secure SHA256 password hashing, email/password validation, user profiles, secure password change, and persistent sessions. Orders are linked to user accounts, and routes like checkout and "My Orders" require authentication.
- **Interactive Catalog**: Product display with high-quality images, dynamic filters, and detailed product descriptions.
- **Product Customization**: A modal system allows users to customize products with additional specifications (e.g., RAM, SSD upgrades, extended warranties), with real-time price calculation based on selections.
- **Shopping Cart**: Full cart management including quantity modification, item removal, and automatic total calculation. The cart works without login, but checkout requires authentication for order placement.
- **Order System**: Checkout form with data validation, customer information capture, and a complete order history per user, including detailed customized specifications for past orders.
- **WhatsApp Integration**: After successful checkout, the system automatically redirects to WhatsApp (number: 3003895839) with a pre-formatted message containing complete order details (customer info, products, specifications, quantities, and totals). The message is generated by loading product and specification data from the database to ensure accuracy regardless of session state.
- **User Profile**: View and edit personal information, saved shipping address, contact number, and secure password changes.

## Recent Implementation Details (November 2025)

### 1. Carrito de Compras Mejorado
El carrito ahora funciona en todo momento:
- ✅ Puedes agregar productos sin iniciar sesión
- ✅ Solo se requiere login al momento de hacer el checkout
- ✅ Visualización en tiempo real del número de productos y total en la barra de navegación

### 2. Integración con WhatsApp
Después de completar un pedido:
- ✅ El sistema redirige automáticamente a WhatsApp (número **3003895839**)
- ✅ Envía un mensaje pre-formateado con todos los detalles del pedido:
  - ✅ Información del cliente
  - ✅ Listado de productos con nombres completos
  - ✅ Especificaciones personalizadas (RAM, SSD, garantías, etc.)
  - ✅ Cantidades de cada producto
  - ✅ Precios detallados y total del pedido
  - ✅ Fecha y hora del pedido

### 3. Robustez Técnica
La implementación garantiza que:
- ✅ Los nombres de productos y especificaciones siempre se cargan desde la base de datos
- ✅ Funciona correctamente incluso después de recargar la página
- ✅ Los totales se calculan con precisión sumando precio base + especificaciones × cantidad

### 4. Flujo de Compra Completo
El usuario experimenta el siguiente flujo:
1. Navega por el catálogo y agrega productos al carrito (con o sin login)
2. Personaliza productos con especificaciones adicionales
3. Va al checkout (debe iniciar sesión si no lo ha hecho)
4. Completa el formulario con sus datos
5. Al confirmar, el pedido se guarda en la base de datos
6. Automáticamente se abre WhatsApp con el mensaje completo del pedido listo para enviar al número **3003895839**

### Feature Specifications
- **Data Models**: `Usuario`, `ProductoTecnologico`, `Especificacion`, `Orden`, `ItemOrden`, and `EspecificacionOrden` define the core entities and their relationships.
- **Data Layer**: `TechStoreContext` (Entity Framework Core with SQLite) manages database interactions and includes seed data for products and specifications. `EstadoPedido` (scoped service) manages the shopping cart state. `UsuarioService` (scoped service) handles all authentication logic, including user registration, login, logout, profile updates, and secure password changes.
- **Security**: Form validation, SQL injection prevention via Entity Framework, and separation of concerns.

### System Design Choices
The application is built using ASP.NET Core 8.0 with Blazor Server-Side for the UI. SQLite is used as the database with Entity Framework Core 8.0. C# 12 is the primary programming language. The project structure is organized into `Components` (for UI elements and pages), `Data` (for database context and services), `Models` (for data entities), and `wwwroot` (for static assets). Data flow involves adding products to the `EstadoPedido` service, cloning cart items for persistence during checkout, and loading order history with all related entities using Entity Framework's `Include`/`ThenInclude`.

## External Dependencies
- **Framework**: ASP.NET Core 8.0
- **UI Framework**: Blazor Server-Side
- **Database**: SQLite (via Entity Framework Core 8.0)
- **Programming Language**: C# 12 (.NET 8)
- **Images**: Unsplash
- **Fonts**: Google Fonts (Inter)