{"file_contents":{"Models/ProductoTecnologico.cs":{"content":"namespace TechStore.Models;\n\npublic class ProductoTecnologico\n{\n    public int Id { get; set; }\n    public string Nombre { get; set; } = string.Empty;\n    public string Descripcion { get; set; } = string.Empty;\n    public decimal PrecioBase { get; set; }\n    public string ImagenUrl { get; set; } = string.Empty;\n    public TipoProducto Tipo { get; set; }\n    public string Categoria { get; set; } = string.Empty;\n    public List<Especificacion> EspecificacionesDisponibles { get; set; } = new();\n}\n\npublic enum TipoProducto\n{\n    Hardware,\n    Software,\n    Servicio\n}\n","size_bytes":570},"Data/UsuarioService.cs":{"content":"using TechStore.Models;\nusing Microsoft.EntityFrameworkCore;\nusing BCrypt.Net;\n\nnamespace TechStore.Data;\n\npublic class UsuarioService\n{\n    private readonly TechStoreContext _dbContext;\n    public Usuario? UsuarioActual { get; set; }\n    public event Action? OnChange;\n\n    public UsuarioService(TechStoreContext dbContext)\n    {\n        _dbContext = dbContext;\n    }\n\n    public async Task<(bool √©xito, string mensaje)> RegistrarAsync(string email, string nombre, string apellido, string contrase√±a, string contrase√±aConfirm)\n    {\n        if (contrase√±a != contrase√±aConfirm)\n            return (false, \"Las contrase√±as no coinciden\");\n\n        if (contrase√±a.Length < 6)\n            return (false, \"La contrase√±a debe tener al menos 6 caracteres\");\n\n        var usuarioExistente = await _dbContext.Usuarios.FirstOrDefaultAsync(u => u.Email == email);\n        if (usuarioExistente != null)\n            return (false, \"El email ya est√° registrado\");\n\n        var avatarUrl = $\"https://ui-avatars.com/api/?name={Uri.EscapeDataString(nombre + \" \" + apellido)}&background=6366f1&color=fff&size=200\";\n\n        var usuario = new Usuario\n        {\n            Email = email,\n            Nombre = nombre,\n            Apellido = apellido,\n            Contrase√±a = HashContrase√±a(contrase√±a),\n            AvatarUrl = avatarUrl,\n            FechaRegistro = DateTime.Now\n        };\n\n        _dbContext.Usuarios.Add(usuario);\n        await _dbContext.SaveChangesAsync();\n\n        UsuarioActual = usuario;\n        NotificarCambio();\n        return (true, \"Registro exitoso\");\n    }\n\n    public async Task<(bool √©xito, string mensaje)> LoginAsync(string email, string contrase√±a)\n    {\n        var usuario = await _dbContext.Usuarios\n            .Include(u => u.ProductosFavoritos)\n            .FirstOrDefaultAsync(u => u.Email == email && u.EstaActivo);\n\n        if (usuario == null)\n            return (false, \"Email o contrase√±a incorrectos\");\n\n        if (!VerificaContrase√±a(contrase√±a, usuario.Contrase√±a))\n            return (false, \"Email o contrase√±a incorrectos\");\n\n        usuario.UltimoLogin = DateTime.Now;\n        await _dbContext.SaveChangesAsync();\n\n        UsuarioActual = usuario;\n        NotificarCambio();\n        return (true, \"Login exitoso\");\n    }\n\n    public async Task LogoutAsync()\n    {\n        UsuarioActual = null;\n        NotificarCambio();\n        await Task.CompletedTask;\n    }\n\n    public async Task<Usuario?> ObtenerUsuarioPorIdAsync(int id)\n    {\n        return await _dbContext.Usuarios\n            .Include(u => u.Ordenes)\n                .ThenInclude(o => o.Items)\n                    .ThenInclude(i => i.ProductoTecnologico)\n            .Include(u => u.ProductosFavoritos)\n                .ThenInclude(f => f.ProductoTecnologico)\n            .FirstOrDefaultAsync(u => u.Id == id);\n    }\n\n    public async Task<bool> ActualizarPerfilAsync(int id, string nombre, string apellido, string telefono, string direcci√≥n, string ciudad, string pais)\n    {\n        var usuario = await _dbContext.Usuarios.FindAsync(id);\n        if (usuario == null)\n            return false;\n\n        usuario.Nombre = nombre;\n        usuario.Apellido = apellido;\n        usuario.Telefono = telefono;\n        usuario.Direcci√≥n = direcci√≥n;\n        usuario.Ciudad = ciudad;\n        usuario.Pais = pais;\n\n        var nuevoAvatarUrl = $\"https://ui-avatars.com/api/?name={Uri.EscapeDataString(nombre + \" \" + apellido)}&background=6366f1&color=fff&size=200\";\n        usuario.AvatarUrl = nuevoAvatarUrl;\n\n        await _dbContext.SaveChangesAsync();\n        UsuarioActual = usuario;\n        NotificarCambio();\n        return true;\n    }\n\n    public async Task<bool> CambiarContrase√±aAsync(int id, string contrase√±aActual, string contrase√±aNueva, string contrase√±aConfirm)\n    {\n        var usuario = await _dbContext.Usuarios.FindAsync(id);\n        if (usuario == null)\n            return false;\n\n        if (!VerificaContrase√±a(contrase√±aActual, usuario.Contrase√±a))\n            return false;\n\n        if (contrase√±aNueva != contrase√±aConfirm)\n            return false;\n\n        if (contrase√±aNueva.Length < 6)\n            return false;\n\n        usuario.Contrase√±a = HashContrase√±a(contrase√±aNueva);\n        await _dbContext.SaveChangesAsync();\n        return true;\n    }\n\n    public async Task<bool> AgregarAFavoritosAsync(int usuarioId, int productoId)\n    {\n        var yaExiste = await _dbContext.ProductosFavoritos\n            .AnyAsync(f => f.UsuarioId == usuarioId && f.ProductoTecnologicoId == productoId);\n\n        if (yaExiste)\n            return false;\n\n        var favorito = new ProductoFavorito\n        {\n            UsuarioId = usuarioId,\n            ProductoTecnologicoId = productoId,\n            FechaAgregado = DateTime.Now\n        };\n\n        _dbContext.ProductosFavoritos.Add(favorito);\n        await _dbContext.SaveChangesAsync();\n\n        if (UsuarioActual != null)\n        {\n            UsuarioActual = await ObtenerUsuarioPorIdAsync(usuarioId);\n        }\n\n        NotificarCambio();\n        return true;\n    }\n\n    public async Task<bool> RemoverDeFavoritosAsync(int usuarioId, int productoId)\n    {\n        var favorito = await _dbContext.ProductosFavoritos\n            .FirstOrDefaultAsync(f => f.UsuarioId == usuarioId && f.ProductoTecnologicoId == productoId);\n\n        if (favorito == null)\n            return false;\n\n        _dbContext.ProductosFavoritos.Remove(favorito);\n        await _dbContext.SaveChangesAsync();\n\n        if (UsuarioActual != null)\n        {\n            UsuarioActual = await ObtenerUsuarioPorIdAsync(usuarioId);\n        }\n\n        NotificarCambio();\n        return true;\n    }\n\n    public async Task<bool> EsFavoritoAsync(int usuarioId, int productoId)\n    {\n        return await _dbContext.ProductosFavoritos\n            .AnyAsync(f => f.UsuarioId == usuarioId && f.ProductoTecnologicoId == productoId);\n    }\n\n    public async Task<List<ProductoTecnologico>> ObtenerFavoritosAsync(int usuarioId)\n    {\n        return await _dbContext.ProductosFavoritos\n            .Where(f => f.UsuarioId == usuarioId)\n            .Include(f => f.ProductoTecnologico)\n                .ThenInclude(p => p!.EspecificacionesDisponibles)\n            .Select(f => f.ProductoTecnologico!)\n            .ToListAsync();\n    }\n\n    private string HashContrase√±a(string contrase√±a)\n    {\n        return BCrypt.Net.BCrypt.HashPassword(contrase√±a, workFactor: 12);\n    }\n\n    private bool VerificaContrase√±a(string contrase√±a, string hash)\n    {\n        return BCrypt.Net.BCrypt.Verify(contrase√±a, hash);\n    }\n\n    private void NotificarCambio()\n    {\n        OnChange?.Invoke();\n    }\n}\n","size_bytes":6653},"Models/Especificacion.cs":{"content":"namespace TechStore.Models;\n\npublic class Especificacion\n{\n    public int Id { get; set; }\n    public string Nombre { get; set; } = string.Empty;\n    public decimal PrecioAdicional { get; set; }\n    public int ProductoTecnologicoId { get; set; }\n    public ProductoTecnologico? ProductoTecnologico { get; set; }\n}\n","size_bytes":314},"wwwroot/css/app.css":{"content":"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\n:root {\n    --primary: #6366f1;\n    --primary-dark: #4f46e5;\n    --primary-light: #818cf8;\n    --secondary: #06b6d4;\n    --accent: #f59e0b;\n    --success: #10b981;\n    --error: #ef4444;\n    --bg-dark: #0f172a;\n    --bg-darker: #020617;\n    --bg-card: #1e293b;\n    --text-light: #f8fafc;\n    --text-gray: #94a3b8;\n    --border-color: rgba(255, 255, 255, 0.1);\n}\n\nbody {\n    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n    background: linear-gradient(to bottom, #0f172a, #1e293b);\n    color: var(--text-light);\n    min-height: 100vh;\n}\n\n.page {\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n}\n\n.container {\n    max-width: 1200px;\n    margin: 0 auto;\n    padding: 0 1.5rem;\n    width: 100%;\n}\n\n.main-content {\n    flex: 1;\n    padding: 2rem 0;\n}\n\nh1, h2, h3, h4 {\n    font-weight: 700;\n}\n\n/* Top Bar */\n.top-bar {\n    background: rgba(30, 41, 59, 0.8);\n    backdrop-filter: blur(10px);\n    border-bottom: 1px solid var(--border-color);\n    padding: 1rem 0;\n    position: sticky;\n    top: 0;\n    z-index: 100;\n}\n\n.top-bar .container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    gap: 2rem;\n}\n\n.logo {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    text-decoration: none;\n    color: var(--text-light);\n    font-size: 1.5rem;\n    font-weight: 800;\n}\n\n.logo-icon {\n    font-size: 2rem;\n}\n\n.nav-menu {\n    display: flex;\n    gap: 1.5rem;\n    align-items: center;\n}\n\n.nav-link {\n    color: var(--text-gray);\n    text-decoration: none;\n    font-weight: 500;\n    transition: color 0.2s;\n    padding: 0.5rem 1rem;\n    border-radius: 0.5rem;\n}\n\n.nav-link:hover,\n.nav-link.active {\n    color: var(--primary-light);\n    background: rgba(99, 102, 241, 0.1);\n}\n\n.top-bar-right {\n    display: flex;\n    align-items: center;\n    gap: 1.5rem;\n}\n\n.user-menu {\n    position: relative;\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    cursor: pointer;\n    padding: 0.5rem 1rem;\n    border-radius: 2rem;\n    background: rgba(255, 255, 255, 0.05);\n    transition: all 0.2s;\n}\n\n.user-menu:hover {\n    background: rgba(255, 255, 255, 0.1);\n}\n\n.user-menu:hover .user-dropdown {\n    display: block;\n}\n\n.user-avatar {\n    width: 36px;\n    height: 36px;\n    border-radius: 50%;\n    border: 2px solid var(--primary);\n}\n\n.user-greeting {\n    font-weight: 500;\n    color: var(--text-light);\n}\n\n.user-dropdown {\n    display: none;\n    position: absolute;\n    top: 100%;\n    right: 0;\n    margin-top: 0.5rem;\n    background: var(--bg-card);\n    border: 1px solid var(--border-color);\n    border-radius: 0.75rem;\n    min-width: 200px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);\n    overflow: hidden;\n}\n\n.dropdown-item {\n    display: block;\n    padding: 0.75rem 1.25rem;\n    color: var(--text-light);\n    text-decoration: none;\n    transition: all 0.2s;\n    border: none;\n    background: none;\n    width: 100%;\n    text-align: left;\n    cursor: pointer;\n    font-size: 0.95rem;\n}\n\n.dropdown-item:hover {\n    background: rgba(99, 102, 241, 0.1);\n    color: var(--primary-light);\n}\n\n.dropdown-item hr {\n    border: none;\n    border-top: 1px solid var(--border-color);\n    margin: 0.5rem 0;\n}\n\n.logout-btn {\n    color: var(--error);\n}\n\n.logout-btn:hover {\n    background: rgba(239, 68, 68, 0.1);\n}\n\n.auth-buttons {\n    display: flex;\n    gap: 1rem;\n}\n\n.btn-login-header,\n.btn-register-header {\n    padding: 0.5rem 1.25rem;\n    border-radius: 0.5rem;\n    text-decoration: none;\n    font-weight: 600;\n    transition: all 0.2s;\n}\n\n.btn-login-header {\n    color: var(--text-light);\n    background: rgba(255, 255, 255, 0.1);\n}\n\n.btn-login-header:hover {\n    background: rgba(255, 255, 255, 0.15);\n}\n\n.btn-register-header {\n    background: linear-gradient(135deg, var(--primary), var(--primary-dark));\n    color: white;\n}\n\n.btn-register-header:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);\n}\n\n/* Carrito Flotante */\n.carrito-floating {\n    position: fixed;\n    bottom: 2rem;\n    right: 2rem;\n    z-index: 999;\n}\n\n.carrito-toggle {\n    position: relative;\n    width: 60px;\n    height: 60px;\n    border-radius: 50%;\n    background: linear-gradient(135deg, var(--primary), var(--primary-dark));\n    border: none;\n    color: white;\n    font-size: 1.5rem;\n    cursor: pointer;\n    box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);\n    transition: all 0.3s;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.carrito-toggle:hover {\n    transform: scale(1.1);\n    box-shadow: 0 6px 30px rgba(99, 102, 241, 0.6);\n}\n\n.carrito-badge {\n    position: absolute;\n    top: -5px;\n    right: -5px;\n    background: var(--error);\n    color: white;\n    font-size: 0.75rem;\n    font-weight: 700;\n    padding: 0.25rem 0.5rem;\n    border-radius: 1rem;\n    min-width: 20px;\n    text-align: center;\n}\n\n.carrito-dropdown {\n    position: fixed;\n    bottom: 90px;\n    right: 2rem;\n    width: 400px;\n    max-height: 600px;\n    background: var(--bg-card);\n    border: 1px solid var(--border-color);\n    border-radius: 1rem;\n    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);\n    display: flex;\n    flex-direction: column;\n    animation: slideUp 0.3s ease;\n}\n\n@keyframes slideUp {\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.carrito-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1rem 1.5rem;\n    border-bottom: 1px solid var(--border-color);\n}\n\n.carrito-header h3 {\n    font-size: 1.25rem;\n}\n\n.btn-cerrar {\n    background: none;\n    border: none;\n    color: var(--text-gray);\n    font-size: 2rem;\n    cursor: pointer;\n    line-height: 1;\n    padding: 0;\n    width: 30px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 0.5rem;\n    transition: all 0.2s;\n}\n\n.btn-cerrar:hover {\n    background: rgba(255, 255, 255, 0.1);\n    color: var(--text-light);\n}\n\n.carrito-vacio {\n    padding: 3rem 1.5rem;\n    text-align: center;\n}\n\n.empty-icon {\n    font-size: 3rem;\n    margin-bottom: 1rem;\n}\n\n.carrito-items {\n    flex: 1;\n    overflow-y: auto;\n    padding: 1rem;\n}\n\n.carrito-item-mini {\n    display: flex;\n    gap: 1rem;\n    padding: 1rem;\n    background: rgba(255, 255, 255, 0.03);\n    border-radius: 0.75rem;\n    margin-bottom: 0.75rem;\n    align-items: center;\n}\n\n.carrito-item-mini img {\n    width: 60px;\n    height: 60px;\n    object-fit: cover;\n    border-radius: 0.5rem;\n}\n\n.carrito-item-mini .item-info {\n    flex: 1;\n}\n\n.carrito-item-mini h4 {\n    font-size: 0.95rem;\n    margin-bottom: 0.25rem;\n}\n\n.item-cantidad,\n.item-precio {\n    font-size: 0.85rem;\n    color: var(--text-gray);\n}\n\n.btn-remove-mini {\n    background: rgba(239, 68, 68, 0.2);\n    color: var(--error);\n    border: none;\n    width: 28px;\n    height: 28px;\n    border-radius: 0.5rem;\n    cursor: pointer;\n    font-size: 1.25rem;\n    line-height: 1;\n    transition: all 0.2s;\n}\n\n.btn-remove-mini:hover {\n    background: rgba(239, 68, 68, 0.3);\n}\n\n.carrito-footer {\n    padding: 1rem 1.5rem;\n    border-top: 1px solid var(--border-color);\n}\n\n.total-row {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n    font-size: 1.1rem;\n}\n\n.btn-checkout {\n    width: 100%;\n    padding: 0.875rem;\n    background: linear-gradient(135deg, var(--primary), var(--primary-dark));\n    color: white;\n    border: none;\n    border-radius: 0.75rem;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.2s;\n    font-size: 1rem;\n}\n\n.btn-checkout:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4);\n}\n\n/* Cat√°logo */\n.catalog-header {\n    text-align: center;\n    margin-bottom: 3rem;\n    padding: 2rem 0;\n}\n\n.catalog-header h1 {\n    font-size: 3rem;\n    background: linear-gradient(135deg, var(--primary), var(--secondary));\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n    margin-bottom: 1rem;\n}\n\n.subtitle {\n    color: var(--text-gray);\n    font-size: 1.25rem;\n}\n\n.search-filter-bar {\n    margin-bottom: 3rem;\n}\n\n.search-box {\n    position: relative;\n    max-width: 600px;\n    margin: 0 auto 2rem;\n}\n\n.search-input {\n    width: 100%;\n    padding: 1rem 3rem 1rem 1.5rem;\n    background: rgba(255, 255, 255, 0.05);\n    border: 2px solid var(--border-color);\n    border-radius: 2rem;\n    color: var(--text-light);\n    font-size: 1rem;\n    transition: all 0.3s;\n}\n\n.search-input:focus {\n    outline: none;\n    border-color: var(--primary);\n    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\n}\n\n.search-icon {\n    position: absolute;\n    right: 1.5rem;\n    top: 50%;\n    transform: translateY(-50%);\n    font-size: 1.25rem;\n    pointer-events: none;\n}\n\n.category-filters {\n    display: flex;\n    gap: 1rem;\n    justify-content: center;\n    flex-wrap: wrap;\n}\n\n.filter-btn {\n    padding: 0.75rem 1.5rem;\n    background: rgba(255, 255, 255, 0.05);\n    border: 2px solid var(--border-color);\n    border-radius: 2rem;\n    color: var(--text-light);\n    cursor: pointer;\n    transition: all 0.3s;\n    font-weight: 500;\n    font-size: 1rem;\n}\n\n.filter-btn:hover {\n    background: rgba(255, 255, 255, 0.1);\n    transform: translateY(-2px);\n}\n\n.filter-btn.active {\n    background: linear-gradient(135deg, var(--primary), var(--primary-dark));\n    border-color: var(--primary);\n    box-shadow: 0 0 20px rgba(99, 102, 241, 0.4);\n}\n\n.products-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n    gap: 2rem;\n    margin-bottom: 3rem;\n}\n\n.product-card {\n    position: relative;\n    background: rgba(255, 255, 255, 0.05);\n    border: 1px solid var(--border-color);\n    border-radius: 1rem;\n    overflow: hidden;\n    transition: all 0.3s;\n}\n\n.product-card:hover {\n    transform: translateY(-8px);\n    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);\n    border-color: var(--primary);\n}\n\n.btn-favorito {\n    position: absolute;\n    top: 1rem;\n    right: 1rem;\n    background: rgba(0, 0, 0, 0.5);\n    backdrop-filter: blur(10px);\n    border: none;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    font-size: 1.25rem;\n    cursor: pointer;\n    transition: all 0.3s;\n    z-index: 10;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.btn-favorito:hover {\n    background: rgba(0, 0, 0, 0.7);\n    transform: scale(1.1);\n}\n\n.btn-favorito.activo {\n    background: rgba(239, 68, 68, 0.2);\n}\n\n.product-image {\n    height: 220px;\n    background-size: cover;\n    background-position: center;\n    background-color: rgba(255, 255, 255, 0.05);\n}\n\n.product-content {\n    padding: 1.5rem;\n}\n\n.product-badge {\n    display: inline-block;\n    padding: 0.25rem 0.75rem;\n    background: linear-gradient(135deg, var(--secondary), #0891b2);\n    border-radius: 1rem;\n    font-size: 0.75rem;\n    font-weight: 600;\n    text-transform: uppercase;\n    margin-bottom: 0.75rem;\n}\n\n.product-title {\n    font-size: 1.25rem;\n    margin-bottom: 0.5rem;\n    color: var(--text-light);\n}\n\n.product-description {\n    color: var(--text-gray);\n    margin-bottom: 1.5rem;\n    line-height: 1.6;\n    font-size: 0.9rem;\n}\n\n.product-footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.product-price {\n    display: flex;\n    flex-direction: column;\n}\n\n.price-label {\n    font-size: 0.75rem;\n    color: var(--text-gray);\n}\n\n.price-value {\n    font-size: 1.75rem;\n    font-weight: 700;\n    color: var(--primary-light);\n}\n\n/* Botones */\n.btn-add,\n.btn-customize,\n.btn-primary,\n.btn-secondary {\n    padding: 0.75rem 1.5rem;\n    border-radius: 0.5rem;\n    border: none;\n    cursor: pointer;\n    font-weight: 600;\n    transition: all 0.2s;\n    font-size: 1rem;\n}\n\n.btn-add,\n.btn-primary {\n    background: linear-gradient(135deg, var(--primary), var(--primary-dark));\n    color: white;\n}\n\n.btn-add:hover,\n.btn-primary:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 10px 20px rgba(99, 102, 241, 0.4);\n}\n\n.btn-customize {\n    background: linear-gradient(135deg, var(--secondary), #0891b2);\n    color: white;\n}\n\n.btn-customize:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 10px 20px rgba(6, 182, 212, 0.4);\n}\n\n.btn-secondary {\n    background: rgba(255, 255, 255, 0.1);\n    color: var(--text-light);\n    border: 1px solid var(--border-color);\n}\n\n.btn-secondary:hover {\n    background: rgba(255, 255, 255, 0.15);\n}\n\n.btn-logout {\n    padding: 0.75rem 2rem;\n    background: rgba(239, 68, 68, 0.1);\n    color: var(--error);\n    border: 1px solid rgba(239, 68, 68, 0.3);\n    border-radius: 0.75rem;\n    font-weight: 600;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n\n.btn-logout:hover {\n    background: rgba(239, 68, 68, 0.2);\n    border-color: var(--error);\n}\n\n/* Modal */\n.modal-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.8);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n    padding: 2rem;\n}\n\n.modal-content {\n    background: var(--bg-card);\n    border-radius: 1rem;\n    max-width: 700px;\n    width: 100%;\n    max-height: 90vh;\n    overflow-y: auto;\n    border: 1px solid var(--border-color);\n}\n\n.modal-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1.5rem;\n    border-bottom: 1px solid var(--border-color);\n}\n\n.modal-header h2 {\n    font-size: 1.5rem;\n}\n\n.btn-close {\n    background: none;\n    border: none;\n    color: var(--text-gray);\n    font-size: 2rem;\n    cursor: pointer;\n    line-height: 1;\n    padding: 0;\n    width: 36px;\n    height: 36px;\n    border-radius: 0.5rem;\n    transition: all 0.2s;\n}\n\n.btn-close:hover {\n    background: rgba(255, 255, 255, 0.1);\n    color: var(--text-light);\n}\n\n.modal-body {\n    padding: 1.5rem;\n}\n\n.product-preview {\n    display: flex;\n    gap: 1.5rem;\n    margin-bottom: 2rem;\n}\n\n.product-preview img {\n    width: 120px;\n    height: 120px;\n    object-fit: cover;\n    border-radius: 0.75rem;\n}\n\n.product-preview h3 {\n    font-size: 1.25rem;\n    margin-bottom: 0.5rem;\n}\n\n.product-preview p {\n    color: var(--text-gray);\n    margin-bottom: 1rem;\n}\n\n.base-price {\n    color: var(--primary-light);\n    font-weight: 600;\n}\n\n.specifications h4 {\n    margin-bottom: 1rem;\n    font-size: 1.1rem;\n}\n\n.spec-option {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    padding: 1rem;\n    background: rgba(255, 255, 255, 0.03);\n    border: 1px solid var(--border-color);\n    border-radius: 0.75rem;\n    margin-bottom: 0.75rem;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n\n.spec-option:hover {\n    background: rgba(255, 255, 255, 0.05);\n    border-color: var(--primary);\n}\n\n.spec-option input[type=\"checkbox\"] {\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n}\n\n.spec-name {\n    flex: 1;\n    font-weight: 500;\n}\n\n.spec-price {\n    color: var(--primary-light);\n    font-weight: 600;\n}\n\n.total-preview {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 1.5rem;\n    background: rgba(99, 102, 241, 0.1);\n    border-radius: 0.75rem;\n    margin-top: 1.5rem;\n    font-size: 1.25rem;\n}\n\n.total-amount {\n    color: var(--primary-light);\n    font-weight: 700;\n}\n\n.modal-footer {\n    display: flex;\n    gap: 1rem;\n    padding: 1.5rem;\n    border-top: 1px solid var(--border-color);\n}\n\n.modal-footer button {\n    flex: 1;\n}\n\n/* Checkout */\n.checkout-container,\n.perfil-container,\n.pedidos-container,\n.favoritos-container {\n    max-width: 1000px;\n    margin: 0 auto;\n}\n\n.page-header {\n    text-align: center;\n    margin-bottom: 3rem;\n}\n\n.page-header h1 {\n    font-size: 2.5rem;\n    margin-bottom: 0.5rem;\n}\n\n.checkout-grid {\n    display: grid;\n    grid-template-columns: 1fr 400px;\n    gap: 2rem;\n    margin-bottom: 2rem;\n}\n\n.cart-items,\n.order-summary {\n    background: rgba(255, 255, 255, 0.05);\n    border: 1px solid var(--border-color);\n    border-radius: 1rem;\n    padding: 2rem;\n}\n\n.cart-items h2,\n.order-summary h2 {\n    margin-bottom: 1.5rem;\n    font-size: 1.5rem;\n}\n\n.cart-item {\n    display: flex;\n    gap: 1.5rem;\n    padding: 1.5rem;\n    background: rgba(255, 255, 255, 0.03);\n    border-radius: 0.75rem;\n    margin-bottom: 1rem;\n}\n\n.cart-item img {\n    width: 100px;\n    height: 100px;\n    object-fit: cover;\n    border-radius: 0.5rem;\n}\n\n.item-details {\n    flex: 1;\n}\n\n.item-details h3 {\n    font-size: 1.1rem;\n    margin-bottom: 0.5rem;\n}\n\n.item-type {\n    color: var(--text-gray);\n    font-size: 0.9rem;\n    margin-bottom: 0.75rem;\n}\n\n.item-specs {\n    background: rgba(99, 102, 241, 0.1);\n    padding: 0.75rem;\n    border-radius: 0.5rem;\n    margin-bottom: 0.75rem;\n}\n\n.item-specs ul {\n    list-style: none;\n    font-size: 0.9rem;\n    margin-top: 0.5rem;\n}\n\n.item-specs li {\n    color: var(--text-gray);\n    margin-bottom: 0.25rem;\n}\n\n.item-quantity {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n}\n\n.quantity-controls {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n}\n\n.qty-btn {\n    background: rgba(99, 102, 241, 0.2);\n    color: var(--primary-light);\n    border: none;\n    width: 32px;\n    height: 32px;\n    border-radius: 0.5rem;\n    cursor: pointer;\n    font-weight: 700;\n    transition: all 0.2s;\n}\n\n.qty-btn:hover {\n    background: rgba(99, 102, 241, 0.3);\n}\n\n.qty-input {\n    width: 60px;\n    padding: 0.5rem;\n    text-align: center;\n    background: rgba(255, 255, 255, 0.05);\n    border: 1px solid var(--border-color);\n    border-radius: 0.5rem;\n    color: var(--text-light);\n}\n\n.item-actions {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    gap: 0.75rem;\n}\n\n.item-price {\n    font-size: 1.25rem;\n    font-weight: 700;\n    color: var(--primary-light);\n}\n\n.btn-remove {\n    padding: 0.5rem 1rem;\n    background: rgba(239, 68, 68, 0.2);\n    color: var(--error);\n    border: none;\n    border-radius: 0.5rem;\n    cursor: pointer;\n    font-weight: 600;\n    transition: all 0.2s;\n}\n\n.btn-remove:hover {\n    background: rgba(239, 68, 68, 0.3);\n}\n\n.form-group {\n    margin-bottom: 1.5rem;\n}\n\n.form-row {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 1rem;\n}\n\n.form-group label {\n    display: block;\n    margin-bottom: 0.5rem;\n    font-weight: 500;\n    color: var(--text-gray);\n}\n\n.form-input {\n    width: 100%;\n    padding: 0.875rem;\n    background: rgba(255, 255, 255, 0.05);\n    border: 1px solid var(--border-color);\n    border-radius: 0.5rem;\n    color: var(--text-light);\n    font-size: 1rem;\n    transition: all 0.2s;\n}\n\n.form-input:focus {\n    outline: none;\n    border-color: var(--primary);\n    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);\n}\n\n.form-input:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n}\n\n.form-group small {\n    color: var(--text-gray);\n    font-size: 0.85rem;\n    display: block;\n    margin-top: 0.25rem;\n}\n\n.order-total {\n    margin-top: 1.5rem;\n    padding-top: 1.5rem;\n    border-top: 1px solid var(--border-color);\n}\n\n.total-row {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 0.75rem;\n    color: var(--text-gray);\n}\n\n.free-shipping {\n    color: var(--success);\n    font-weight: 600;\n}\n\n.total-final {\n    font-size: 1.25rem;\n    color: var(--text-light);\n    padding-top: 0.75rem;\n    border-top: 1px solid var(--border-color);\n    margin-top: 0.75rem;\n}\n\n/* Perfil */\n.perfil-header {\n    text-align: center;\n    margin-bottom: 3rem;\n    padding: 2rem;\n    background: rgba(255, 255, 255, 0.05);\n    border-radius: 1rem;\n    border: 1px solid var(--border-color);\n}\n\n.avatar-section {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 1rem;\n}\n\n.avatar-large {\n    width: 120px;\n    height: 120px;\n    border-radius: 50%;\n    border: 4px solid var(--primary);\n}\n\n.user-email {\n    color: var(--text-gray);\n    font-size: 1.1rem;\n}\n\n.perfil-grid {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 2rem;\n    margin-bottom: 2rem;\n}\n\n.perfil-card {\n    background: rgba(255, 255, 255, 0.05);\n    border: 1px solid var(--border-color);\n    border-radius: 1rem;\n    padding: 2rem;\n}\n\n.perfil-card h2 {\n    margin-bottom: 1.5rem;\n    font-size: 1.5rem;\n}\n\n.perfil-card h3 {\n    margin: 1.5rem 0 1rem;\n    font-size: 1.25rem;\n}\n\n.divider {\n    border: none;\n    border-top: 1px solid var(--border-color);\n    margin: 2rem 0;\n}\n\n.stats-grid {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 1rem;\n    margin-bottom: 2rem;\n}\n\n.stat-box {\n    background: rgba(99, 102, 241, 0.1);\n    padding: 1.5rem;\n    border-radius: 0.75rem;\n    border: 1px solid rgba(99, 102, 241, 0.2);\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n}\n\n.stat-icon {\n    font-size: 2rem;\n}\n\n.stat-label {\n    font-size: 0.85rem;\n    color: var(--text-gray);\n    margin-bottom: 0.25rem;\n}\n\n.stat-value {\n    font-size: 1.25rem;\n    font-weight: 700;\n    color: var(--text-light);\n}\n\n.perfil-actions {\n    text-align: center;\n}\n\n.alert {\n    padding: 1rem 1.5rem;\n    border-radius: 0.75rem;\n    margin-bottom: 2rem;\n    font-weight: 500;\n}\n\n.alert-success {\n    background: rgba(16, 185, 129, 0.1);\n    color: var(--success);\n    border: 1px solid rgba(16, 185, 129, 0.3);\n}\n\n.alert-error {\n    background: rgba(239, 68, 68, 0.1);\n    color: var(--error);\n    border: 1px solid rgba(239, 68, 68, 0.3);\n}\n\n/* Pedidos */\n.ordenes-lista {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n}\n\n.orden-card {\n    background: rgba(255, 255, 255, 0.05);\n    border: 1px solid var(--border-color);\n    border-radius: 1rem;\n    padding: 2rem;\n}\n\n.orden-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1.5rem;\n    padding-bottom: 1rem;\n    border-bottom: 1px solid var(--border-color);\n}\n\n.orden-info h3 {\n    font-size: 1.5rem;\n    margin-bottom: 0.5rem;\n}\n\n.orden-fecha {\n    color: var(--text-gray);\n}\n\n.estado-badge {\n    padding: 0.5rem 1rem;\n    border-radius: 2rem;\n    font-weight: 600;\n    font-size: 0.9rem;\n}\n\n.estado-pendiente {\n    background: rgba(245, 158, 11, 0.1);\n    color: var(--accent);\n    border: 1px solid rgba(245, 158, 11, 0.3);\n}\n\n.estado-confirmada {\n    background: rgba(16, 185, 129, 0.1);\n    color: var(--success);\n    border: 1px solid rgba(16, 185, 129, 0.3);\n}\n\n.estado-enproceso {\n    background: rgba(6, 182, 212, 0.1);\n    color: var(--secondary);\n    border: 1px solid rgba(6, 182, 212, 0.3);\n}\n\n.estado-enviada {\n    background: rgba(99, 102, 241, 0.1);\n    color: var(--primary-light);\n    border: 1px solid rgba(99, 102, 241, 0.3);\n}\n\n.estado-entregada {\n    background: rgba(34, 197, 94, 0.1);\n    color: #22c55e;\n    border: 1px solid rgba(34, 197, 94, 0.3);\n}\n\n.estado-cancelada {\n    background: rgba(239, 68, 68, 0.1);\n    color: var(--error);\n    border: 1px solid rgba(239, 68, 68, 0.3);\n}\n\n.orden-detalles {\n    display: grid;\n    grid-template-columns: 2fr 1fr;\n    gap: 2rem;\n}\n\n.orden-items {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n}\n\n.orden-item {\n    display: flex;\n    gap: 1rem;\n    padding: 1rem;\n    background: rgba(255, 255, 255, 0.03);\n    border-radius: 0.75rem;\n    align-items: center;\n}\n\n.orden-item img {\n    width: 80px;\n    height: 80px;\n    object-fit: cover;\n    border-radius: 0.5rem;\n}\n\n.orden-item .item-info {\n    flex: 1;\n}\n\n.orden-item h4 {\n    font-size: 1.05rem;\n    margin-bottom: 0.25rem;\n}\n\n.orden-item p {\n    color: var(--text-gray);\n    font-size: 0.9rem;\n}\n\n.item-specs-small {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n    margin-top: 0.5rem;\n}\n\n.spec-tag {\n    padding: 0.25rem 0.75rem;\n    background: rgba(99, 102, 241, 0.2);\n    color: var(--primary-light);\n    border-radius: 1rem;\n    font-size: 0.75rem;\n    font-weight: 600;\n}\n\n.orden-resumen {\n    background: rgba(255, 255, 255, 0.03);\n    padding: 1.5rem;\n    border-radius: 0.75rem;\n    align-self: start;\n}\n\n.resumen-row {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 0.75rem;\n    font-size: 0.95rem;\n    color: var(--text-gray);\n}\n\n.resumen-row span:last-child {\n    color: var(--text-light);\n}\n\n.resumen-row.total-row {\n    font-size: 1.25rem;\n    padding-top: 0.75rem;\n    margin-top: 0.75rem;\n    border-top: 1px solid var(--border-color);\n}\n\n.resumen-row.total-row strong {\n    color: var(--primary-light);\n}\n\n/* Empty States */\n.empty-state {\n    text-align: center;\n    padding: 4rem 2rem;\n    background: rgba(255, 255, 255, 0.05);\n    border: 1px solid var(--border-color);\n    border-radius: 1rem;\n    margin: 2rem 0;\n}\n\n.empty-state .empty-icon {\n    font-size: 4rem;\n    margin-bottom: 1rem;\n}\n\n.empty-state h2 {\n    margin-bottom: 0.75rem;\n    font-size: 1.75rem;\n}\n\n.empty-state p {\n    color: var(--text-gray);\n    margin-bottom: 1.5rem;\n}\n\n/* Footer */\n.footer {\n    background: rgba(2, 6, 23, 0.8);\n    border-top: 1px solid var(--border-color);\n    padding: 2rem 0;\n    margin-top: auto;\n}\n\n.footer-content {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 2rem;\n    margin-bottom: 2rem;\n}\n\n.footer-section h3,\n.footer-section h4 {\n    margin-bottom: 1rem;\n}\n\n.footer-section a {\n    display: block;\n    color: var(--text-gray);\n    text-decoration: none;\n    margin-bottom: 0.5rem;\n    transition: color 0.2s;\n}\n\n.footer-section a:hover {\n    color: var(--primary-light);\n}\n\n.footer-bottom {\n    text-align: center;\n    padding-top: 2rem;\n    border-top: 1px solid var(--border-color);\n    color: var(--text-gray);\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n    .checkout-grid,\n    .perfil-grid,\n    .orden-detalles,\n    .footer-content {\n        grid-template-columns: 1fr;\n    }\n\n    .cart-item,\n    .orden-item {\n        flex-direction: column;\n    }\n\n    .item-actions {\n        flex-direction: row;\n        justify-content: space-between;\n        width: 100%;\n    }\n\n    .carrito-dropdown {\n        width: calc(100vw - 2rem);\n        right: 1rem;\n        left: 1rem;\n    }\n\n    .catalog-header h1 {\n        font-size: 2rem;\n    }\n\n    .stats-grid {\n        grid-template-columns: 1fr;\n    }\n\n    .nav-menu {\n        display: none;\n    }\n\n    .form-row {\n        grid-template-columns: 1fr;\n    }\n}\n\n/* Validation Messages */\n.validation-message {\n    color: var(--error);\n    font-size: 0.85rem;\n    margin-top: 0.25rem;\n}\n\n/* Loading States */\nbutton:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n}\n","size_bytes":26386},"Program.cs":{"content":"using Microsoft.EntityFrameworkCore;\nusing TechStore.Data;\nusing TechStore.Components;\n\nvar builder = WebApplication.CreateBuilder(args);\n\nbuilder.Services.AddRazorComponents()\n    .AddInteractiveServerComponents();\n\nbuilder.Services.AddDbContext<TechStoreContext>(options =>\n    options.UseSqlite(\"Data Source=techstore.db\"));\n\nbuilder.Services.AddScoped<CarritoService>();\nbuilder.Services.AddScoped<UsuarioService>();\n\nvar app = builder.Build();\n\nusing (var scope = app.Services.CreateScope())\n{\n    var db = scope.ServiceProvider.GetRequiredService<TechStoreContext>();\n    db.Database.EnsureCreated();\n}\n\nif (!app.Environment.IsDevelopment())\n{\n    app.UseExceptionHandler(\"/Error\");\n}\n\napp.UseStaticFiles();\napp.UseAntiforgery();\n\napp.MapRazorComponents<App>()\n    .AddInteractiveServerRenderMode();\n\napp.Run(\"http://0.0.0.0:5000\");\n","size_bytes":839},"Models/Usuario.cs":{"content":"namespace TechStore.Models;\n\npublic class Usuario\n{\n    public int Id { get; set; }\n    public string Email { get; set; } = string.Empty;\n    public string Nombre { get; set; } = string.Empty;\n    public string Apellido { get; set; } = string.Empty;\n    public string Contrase√±a { get; set; } = string.Empty;\n    public string Telefono { get; set; } = string.Empty;\n    public string Direcci√≥n { get; set; } = string.Empty;\n    public string AvatarUrl { get; set; } = \"https://ui-avatars.com/api/?name=Usuario&background=6366f1&color=fff&size=200\";\n    public string Ciudad { get; set; } = string.Empty;\n    public string Pais { get; set; } = string.Empty;\n    public DateTime FechaRegistro { get; set; } = DateTime.Now;\n    public DateTime? UltimoLogin { get; set; }\n    public bool EstaActivo { get; set; } = true;\n    public List<Orden> Ordenes { get; set; } = new();\n    public List<ProductoFavorito> ProductosFavoritos { get; set; } = new();\n    \n    public string NombreCompleto => $\"{Nombre} {Apellido}\".Trim();\n    public decimal TotalGastado => Ordenes.Sum(o => o.PrecioTotal);\n}\n","size_bytes":1091},"replit.md":{"content":"# TechStore - Tienda de Tecnolog√≠a\n\n## Overview\nTechStore is a modern, professional online technology store built with ASP.NET Core 8.0 Blazor Server. It enables users to browse, customize, and purchase tech products, including hardware (laptops, PCs, monitors), software (licenses, office suites), and IT services (technical support, custom development). The project aims to demonstrate a fully functional e-commerce platform with robust authentication, an interactive product catalog, product customization, a shopping cart, and an order management system, all within a modern UI/UX design.\n\n## User Preferences\nI prefer detailed explanations.\nDo not make changes to the folder `Z`.\nDo not make changes to the file `Y`.\n\n## System Architecture\n\n### UI/UX Decisions\nThe application features a modern, professional design with a dark theme utilizing cyan and black gradients. It employs the Inter typeface, smooth animations, and fluid transitions. The interface is responsive and optimized for various devices, incorporating hover effects and interactive states. Key design elements include a professionally styled navbar with animated elements, a shopping cart with visual feedback, and a user menu with a smooth dropdown animation.\n\n### Technical Implementations\n- **Authentication System**: Full login and registration with **BCrypt password hashing (workFactor: 12)** for enhanced security, email/password validation, user profiles with avatar support, secure password change, and persistent sessions. Orders are linked to user accounts, and routes like checkout and \"My Orders\" require authentication.\n- **Interactive Catalog**: Product display with high-quality images, dynamic filters, **real-time search functionality**, wishlist/favorites integration, and detailed product descriptions.\n- **Product Customization**: A modal system allows users to customize products with additional specifications (e.g., RAM, SSD upgrades, extended warranties), with real-time price calculation based on selections.\n- **Shopping Cart**: Enhanced cart management with **CarritoService** including quantity modification, item removal, automatic total calculation, and **floating cart widget** with real-time counter. The cart works without login, but checkout requires authentication for order placement.\n- **Wishlist/Favorites**: Users can save favorite products to their account with database persistence. The wishlist is accessible from the user menu and shows all favorited items with quick access to product details.\n- **Order System**: Checkout form with data validation, customer information capture, and a complete order history per user, including detailed customized specifications for past orders with **status tracking** (Pendiente, EnProceso, Enviado, Entregado, Cancelado).\n- **WhatsApp Integration**: After successful checkout, the system automatically redirects to WhatsApp (number: 3003895839) with a pre-formatted message containing complete order details (customer info, products, specifications, quantities, and totals). The message is generated by loading product and specification data from the database to ensure accuracy regardless of session state.\n- **User Profile**: Enhanced profile page with **avatar support**, user statistics (total orders, completed orders, favorite products count), view and edit personal information including **city and country**, saved shipping address, contact number, and secure password changes. Profile displays complete order history with detailed information.\n\n## Recent Implementation Details (November 2025)\n\n### 1. Carrito de Compras Mejorado\nEl carrito ahora funciona en todo momento:\n- ‚úÖ Puedes agregar productos sin iniciar sesi√≥n\n- ‚úÖ Solo se requiere login al momento de hacer el checkout\n- ‚úÖ Visualizaci√≥n en tiempo real del n√∫mero de productos y total en la barra de navegaci√≥n\n\n### 2. Integraci√≥n con WhatsApp\nDespu√©s de completar un pedido:\n- ‚úÖ El sistema redirige autom√°ticamente a WhatsApp (n√∫mero **3003895839**)\n- ‚úÖ Env√≠a un mensaje pre-formateado con todos los detalles del pedido:\n  - ‚úÖ Informaci√≥n del cliente\n  - ‚úÖ Listado de productos con nombres completos\n  - ‚úÖ Especificaciones personalizadas (RAM, SSD, garant√≠as, etc.)\n  - ‚úÖ Cantidades de cada producto\n  - ‚úÖ Precios detallados y total del pedido\n  - ‚úÖ Fecha y hora del pedido\n\n### 3. Robustez T√©cnica\nLa implementaci√≥n garantiza que:\n- ‚úÖ Los nombres de productos y especificaciones siempre se cargan desde la base de datos\n- ‚úÖ Funciona correctamente incluso despu√©s de recargar la p√°gina\n- ‚úÖ Los totales se calculan con precisi√≥n sumando precio base + especificaciones √ó cantidad\n\n### 4. Flujo de Compra Completo\nEl usuario experimenta el siguiente flujo:\n1. Navega por el cat√°logo y agrega productos al carrito (con o sin login)\n2. Personaliza productos con especificaciones adicionales\n3. Va al checkout (debe iniciar sesi√≥n si no lo ha hecho)\n4. Completa el formulario con sus datos\n5. Al confirmar, el pedido se guarda en la base de datos\n6. Autom√°ticamente se abre WhatsApp con el mensaje completo del pedido listo para enviar al n√∫mero **3003895839**\n\n### Feature Specifications\n- **Data Models**: `Usuario` (enhanced with AvatarUrl, Ciudad, Pais, ProductosFavoritos), `ProductoFavorito` (new model for wishlist), `ProductoTecnologico`, `Especificacion`, `Orden` (enhanced with Estado enum), `ItemOrden`, and `EspecificacionOrden` define the core entities and their relationships.\n- **Data Layer**: `TechStoreContext` (Entity Framework Core with SQLite) manages database interactions with **persistent data** (no data deletion on restart) and includes seed data for products and specifications. `CarritoService` (scoped service) manages the enhanced shopping cart state with advanced functionalities. `UsuarioService` (scoped service) handles all authentication logic, including user registration, login, logout, profile updates, **wishlist management**, and **secure password changes with BCrypt**.\n- **Security**: **BCrypt password hashing with workFactor 12**, form validation, SQL injection prevention via Entity Framework, and separation of concerns.\n\n### System Design Choices\nThe application is built using ASP.NET Core 8.0 with Blazor Server-Side for the UI. SQLite is used as the database with Entity Framework Core 8.0. C# 12 is the primary programming language. The project structure is organized into `Components` (for UI elements and pages), `Data` (for database context and services), `Models` (for data entities), and `wwwroot` (for static assets). Data flow involves adding products to the `EstadoPedido` service, cloning cart items for persistence during checkout, and loading order history with all related entities using Entity Framework's `Include`/`ThenInclude`.\n\n## External Dependencies\n- **Framework**: ASP.NET Core 8.0\n- **UI Framework**: Blazor Server-Side\n- **Database**: SQLite (via Entity Framework Core 8.0) with **persistent data storage**\n- **Programming Language**: C# 12 (.NET 8)\n- **Security**: BCrypt.Net-Next 4.0.3 for password hashing\n- **Images**: Unsplash\n- **Fonts**: Google Fonts (Inter)\n\n## Recent Major Updates (November 24, 2025)\n\n### Complete Rebuild - Shopping Cart & User Profiles Enhancement\n\n#### 1. Enhanced Data Models\n- **Usuario Model**: Added `AvatarUrl`, `Ciudad`, `Pais` fields, and `ProductosFavoritos` navigation property for wishlist functionality\n- **ProductoFavorito Model**: New model for persistent wishlist/favorites with user-product relationship tracking\n- **Orden Model**: Enhanced with `Estado` enum (Pendiente, EnProceso, Enviado, Entregado, Cancelado) for better order tracking\n\n#### 2. New CarritoService\n- Replaced `EstadoPedido` with enhanced `CarritoService`\n- Advanced cart management with improved state handling\n- Better integration with checkout process\n- Real-time cart updates and notifications\n\n#### 3. Enhanced User Profiles\n- **Avatar Support**: Users can now have profile pictures with default avatar fallback\n- **Location Information**: Added city and country fields for better user data\n- **Statistics Dashboard**: Shows total orders, completed orders, and favorite products count\n- **Complete Order History**: Enhanced display with order status indicators and detailed product information\n- **Wishlist Integration**: Direct access to favorite products from profile\n\n#### 4. Wishlist/Favorites Functionality\n- **Database Persistence**: Favorites are saved to database and persist across sessions\n- **Toggle Functionality**: Easy add/remove from favorites with heart icon\n- **Dedicated Favorites Page**: Complete view of all favorited products\n- **Quick Access**: Favorites accessible from user menu in navigation\n\n#### 5. New UI Components\n- **CarritoFloating**: Floating cart widget in bottom-right corner with real-time item counter and total\n- **Favoritos Page**: Dedicated page for viewing and managing favorite products\n- **Enhanced Index**: Product catalog with search functionality and wishlist integration\n\n#### 6. Improved Security\n- **BCrypt Implementation**: Upgraded from SHA256 to BCrypt.Net-Next for password hashing\n- **WorkFactor 12**: Enhanced security with higher iteration count\n- **Proper Salt Generation**: BCrypt handles salt generation internally for better security\n- **Secure Password Verification**: Using BCrypt.Verify for password validation\n\n#### 7. Database Improvements\n- **Persistent Data**: Removed `EnsureDeleted()` - database now persists between application restarts\n- **Data Preservation**: Existing data is no longer deleted when application starts\n- **Proper Initialization**: Using `EnsureCreated()` only for initial setup\n\n#### 8. Complete CSS Redesign\n- **Modern Gradient Design**: Professional gradients with cyan and purple accents\n- **Smooth Animations**: Fade-in effects, hover transitions, and smooth interactions\n- **Responsive Layout**: Optimized for all device sizes\n- **Enhanced Visual Hierarchy**: Better use of shadows, borders, and spacing\n- **Professional Polish**: Refined buttons, cards, and form elements\n\n#### 9. Enhanced Pages\n- **Index/Catalog**: Real-time search, category filters, wishlist integration, improved product cards\n- **Checkout**: Better UX with quantity controls, improved validation, cleaner layout\n- **Perfil**: Statistics dashboard, avatar display, complete order history, wishlist access\n- **MisPedidos**: Order status indicators with icons, detailed product information\n- **Favoritos**: New page for managing favorite products\n\n### Technical Architecture Improvements\n- **Better Separation of Concerns**: Services properly handle business logic\n- **Enhanced State Management**: Improved cart and user state handling\n- **Database Relationships**: Proper foreign keys and navigation properties\n- **Modern UI/UX**: Professional design with attention to detail","size_bytes":10804},"README.md":{"content":"# üöÄ TechStore - Tienda de Tecnolog√≠a Moderna\n\n![TechStore Banner](https://img.shields.io/badge/ASP.NET%20Core-8.0-blue?logo=dotnet) ![Blazor Server](https://img.shields.io/badge/Blazor-Server-purple?logo=blazor) ![License](https://img.shields.io/badge/License-MIT-green) ![Status](https://img.shields.io/badge/Status-Production%20Ready-brightgreen)\n\n**Una tienda de tecnolog√≠a moderna y profesional construida con ASP.NET Core 8.0 Blazor Server.**\n\n---\n\n## üìë Tabla de Contenidos\n\n1. [Descripci√≥n General](#descripci√≥n-general)\n2. [Caracter√≠sticas Principales](#caracter√≠sticas-principales)\n3. [Instalaci√≥n y Setup](#instalaci√≥n-y-setup)\n4. [C√≥mo Usar la Aplicaci√≥n](#c√≥mo-usar-la-aplicaci√≥n)\n5. [Modelos de Datos](#modelos-de-datos)\n6. [Flujo de Datos](#flujo-de-datos)\n7. [Estructura del Proyecto](#estructura-del-proyecto)\n8. [API y Servicios](#api-y-servicios)\n9. [Cambios Realizados](#cambios-realizados-respecto-al-original)\n10. [Configuraci√≥n](#configuraci√≥n)\n11. [Soluci√≥n de Problemas](#soluci√≥n-de-problemas)\n12. [Roadmap Futuro](#roadmap-futuro)\n13. [Cr√©ditos](#cr√©ditos)\n\n---\n\n## üì± Descripci√≥n General\n\n**TechStore** es una aplicaci√≥n web de comercio electr√≥nico especializada en productos tecnol√≥gicos. Permite a los usuarios:\n\n- ‚úÖ **Explorar** un cat√°logo de 8+ productos tecnol√≥gicos\n- ‚úÖ **Personalizar** productos con especificaciones adicionales (upgrades, garant√≠as, etc.)\n- ‚úÖ **Gestionar** un carrito de compras interactivo\n- ‚úÖ **Realizar** pedidos completos con datos de cliente\n- ‚úÖ **Visualizar** historial de todas las √≥rdenes realizadas\n\n### üéØ Objetivo\n\nProporcionar una plataforma moderna y profesional para la venta de tecnolog√≠a, con una experiencia de usuario fluida, intuitiva y visualmente atractiva.\n\n### üí° Tecnolog√≠as Utilizadas\n\n- **Backend**: ASP.NET Core 8.0\n- **Frontend**: Blazor Server (Razor Components)\n- **Database**: SQLite con Entity Framework Core 8.0\n- **UI/UX**: CSS personalizado con tema oscuro\n- **Lenguaje**: C# 12\n- **Tipograf√≠a**: Google Fonts (Inter)\n- **Im√°genes**: Unsplash\n\n---\n\n## ‚ú® Caracter√≠sticas Principales\n\n### üõí Cat√°logo Interactivo\n\n- **8 Productos Tecnol√≥gicos** listos para vender\n- **Filtros por Categor√≠a**:\n  - üíª Hardware (laptops, PCs, monitores)\n  - üì¶ Software (licencias, sistemas operativos)\n  - üõ†Ô∏è Servicios TI (soporte, desarrollo)\n- **Tarjetas de Productos** con:\n  - Imagen de alta calidad\n  - Nombre y descripci√≥n detallada\n  - Precio base\n  - Tipo de producto\n\n### üé® Personalizaci√≥n Avanzada\n\n- **Modal de Personalizaci√≥n** que permite:\n  - Seleccionar m√∫ltiples especificaciones\n  - Ver precio actualizado en tiempo real\n  - Vista previa completa antes de agregar\n- **14 Especificaciones Disponibles**:\n  - Upgrades de hardware (RAM, SSD, GPU)\n  - Licencias adicionales\n  - Servicios extra\n  - **Descuentos** (especificaciones con precio negativo)\n\n### üõçÔ∏è Carrito de Compras Inteligente\n\n- **Resumen en Tiempo Real**:\n  - Cantidad de items\n  - Total de la compra\n  - Visible en el header\n- **Gesti√≥n de Items**:\n  - Modificar cantidades\n  - Eliminar productos\n  - Ver detalles de especificaciones\n\n### üì¶ Sistema Completo de Pedidos\n\n**Flujo de Checkout:**\n1. Revisa los productos en el carrito\n2. Completa informaci√≥n del cliente (nombre, email, direcci√≥n)\n3. Valida el formulario autom√°ticamente\n4. Confirma y realiza el pedido\n5. Se guarda en la base de datos autom√°ticamente\n\n**Historial de √ìrdenes:**\n- Visualiza todas tus √≥rdenes realizadas\n- Vuelve a ver los detalles de cualquier pedido anterior\n- Consulta fecha, cliente, direcci√≥n, productos y especificaciones\n\n### üé® Dise√±o Moderno y Profesional\n\n- **Tema Oscuro Tecnol√≥gico**:\n  - Colores: Cyan (#06b6d4), P√∫rpura (#8b5cf6), Negro profundo (#0f172a)\n  - Gradientes y efectos visuales modernos\n- **Animaciones Fluidas**:\n  - Transiciones suaves\n  - Efectos hover interactivos\n  - Escala y sombras din√°micas\n- **Responsive Design**:\n  - Funciona perfectamente en m√≥viles\n  - Tablet\n  - Desktop\n\n---\n\n## üöÄ Instalaci√≥n y Setup\n\n### Requisitos Previos\n\n- **.NET 8.0 SDK** instalado ([descargar](https://dotnet.microsoft.com/download))\n- Un navegador web moderno (Chrome, Firefox, Edge, Safari)\n- 500MB de espacio libre en disco\n\n### Paso 1: Clonar el Repositorio\n\n```bash\ngit clone https://github.com/tuusuario/TechStore.git\ncd TechStore\n```\n\n### Paso 2: Restaurar Dependencias\n\n```bash\ndotnet restore\n```\n\n### Paso 3: Crear la Base de Datos\n\n```bash\n# Opcional: Eliminar DB anterior si existe\nrm -f techstore.db\n\n# La DB se crea autom√°ticamente con datos de ejemplo al iniciar\n```\n\n### Paso 4: Ejecutar la Aplicaci√≥n\n\n```bash\ndotnet run\n```\n\nLa aplicaci√≥n estar√° disponible en: **http://localhost:5000**\n\n### Verificaci√≥n de Instalaci√≥n\n\n- ‚úÖ P√°gina de inicio carga correctamente\n- ‚úÖ Ves 8 productos tecnol√≥gicos\n- ‚úÖ Puedes hacer clic en \"Personalizar\"\n- ‚úÖ El carrito funciona en tiempo real\n\n---\n\n## üìñ C√≥mo Usar la Aplicaci√≥n\n\n### 1Ô∏è‚É£ Explorar el Cat√°logo\n\n```\n1. Abre http://localhost:5000 en tu navegador\n2. Ves el cat√°logo de productos con 8 art√≠culos\n3. Usa los filtros de categor√≠a:\n   - \"Todos los Productos\" (muestra los 8)\n   - \"üíª Hardware\" (3 productos)\n   - \"üì¶ Software\" (3 productos)\n   - \"üõ†Ô∏è Servicios TI\" (2 productos)\n4. Lee las descripciones de cada producto\n5. Nota los precios base\n```\n\n### 2Ô∏è‚É£ Personalizar un Producto\n\n```\n1. Haz clic en \"Personalizar\" en cualquier producto\n2. Se abre un modal con:\n   - Imagen del producto\n   - Nombre y descripci√≥n\n   - Precio base\n   - Lista de especificaciones disponibles\n3. Selecciona las especificaciones que desees:\n   - Marca el checkbox de la especificaci√≥n\n   - Ver el precio actualizado autom√°ticamente\n   - Nota: algunos items tienen descuentos (precio negativo)\n4. Revisa el total en la secci√≥n \"Total\"\n5. Haz clic en \"Agregar al Carrito\"\n6. El modal se cierra autom√°ticamente\n```\n\n**Ejemplo de Personalizaci√≥n:**\n```\nProducto: PC Gaming Gamer Pro ($1,899.99)\nEspecificaciones seleccionadas:\n  ‚úì RAM 64GB (upgrade)        +$400.00\n  ‚úì SSD 2TB NVMe (upgrade)    +$300.00\n  ‚úì RTX 4080 (upgrade)        +$500.00\n                       Total: $3,099.99\n```\n\n### 3Ô∏è‚É£ Agregar Productos Simples\n\n```\n1. Para productos sin especificaciones (algunos software)\n2. Haz clic en \"Agregar\" directamente\n3. Se agrega al carrito inmediatamente\n4. La cantidad en el carrito aumenta en el header\n```\n\n### 4Ô∏è‚É£ Gestionar el Carrito\n\n```\n1. En el header, ves el resumen del carrito:\n   - Icono: üõí\n   - Cantidad de items (n√∫mero en la esquina)\n   - Total en dinero\n\n2. Haz clic en el carrito para ir a la p√°gina de checkout\n\n3. En checkout, puedes:\n   - Ver todos los productos agregados\n   - Ver la imagen, nombre, tipo y especificaciones\n   - Modificar las cantidades (cambiar el n√∫mero)\n   - Eliminar items (bot√≥n \"Eliminar\" rojo)\n```\n\n### 5Ô∏è‚É£ Realizar un Pedido\n\n```\n1. En la p√°gina de Checkout, completa el formulario:\n   \n   Nombre Completo: Juan P√©rez\n   Email: juan@example.com\n   Direcci√≥n: Calle Principal 123, Ciudad, Pa√≠s\n\n2. Revisa el resumen del pedido:\n   - Subtotal: (suma de todos los items)\n   - Env√≠o: GRATIS\n   - Total: (monto final)\n\n3. Haz clic en \"‚úì Confirmar Pedido\"\n   - El bot√≥n cambia a \"Procesando...\"\n   - Tu pedido se guarda en la base de datos\n   - Se te redirige a \"Mis Pedidos\"\n\n4. ¬°Listo! Tu pedido fue confirmado\n```\n\n### 6Ô∏è‚É£ Ver Historial de Pedidos\n\n```\n1. Haz clic en \"Mis Pedidos\" en el men√∫ principal\n2. Ves una lista de todos tus pedidos realizados\n3. Para cada pedido, ves:\n   - N√∫mero de pedido (ID)\n   - Fecha y hora exacta\n   - Estado: \"‚úì Confirmado\"\n   - Informaci√≥n del cliente:\n     * Nombre completo\n     * Email\n     * Direcci√≥n de entrega\n   - Productos incluidos:\n     * Nombre del producto\n     * Cantidad\n     * Especificaciones seleccionadas (en tags)\n     * Precio total\n   - Total del pedido\n\n4. Los pedidos se muestran ordenados por fecha (m√°s recientes primero)\n```\n\n---\n\n## üóÑÔ∏è Modelos de Datos\n\n### 1. ProductoTecnologico\n\nRepresenta cada producto en la tienda.\n\n```csharp\npublic class ProductoTecnologico\n{\n    public int Id { get; set; }\n    public string Nombre { get; set; }                    // \"Laptop Dell XPS 15\"\n    public string Descripcion { get; set; }              // Descripci√≥n detallada\n    public decimal PrecioBase { get; set; }              // 1299.99\n    public string ImagenUrl { get; set; }                // URL de imagen\n    public TipoProducto Tipo { get; set; }               // Hardware/Software/Servicio\n    public string Categoria { get; set; }                // \"Laptops\", \"Suites de Oficina\"\n    public List<Especificacion> \n        EspecificacionesDisponibles { get; set; }        // Upgrades disponibles\n}\n\npublic enum TipoProducto\n{\n    Hardware = 0,   // Computadores, perif√©ricos\n    Software = 1,   // Licencias, sistemas\n    Servicio = 2    // Soporte, desarrollo\n}\n```\n\n**Ejemplo de Datos:**\n```json\n{\n  \"id\": 1,\n  \"nombre\": \"Laptop Dell XPS 15\",\n  \"descripcion\": \"Laptop profesional de alto rendimiento...\",\n  \"precioBase\": 1299.99,\n  \"imagenUrl\": \"https://images.unsplash.com/...\",\n  \"tipo\": 0,\n  \"categoria\": \"Laptops\",\n  \"especificacionesDisponibles\": [...]\n}\n```\n\n### 2. Especificacion\n\nExtras/upgrades que se pueden agregar a los productos.\n\n```csharp\npublic class Especificacion\n{\n    public int Id { get; set; }\n    public string Nombre { get; set; }                   // \"RAM 32GB (upgrade)\"\n    public decimal PrecioAdicional { get; set; }         // 200.00 (puede ser negativo)\n    public int ProductoTecnologicoId { get; set; }       // FK al producto\n    public ProductoTecnologico? ProductoTecnologico { get; set; }\n}\n```\n\n**Ejemplos:**\n```csharp\n// Upgrade (positivo)\nnew Especificacion { Nombre = \"RAM 32GB\", PrecioAdicional = 200m }\n\n// Descuento (negativo)\nnew Especificacion { Nombre = \"Plan anual (-20%)\", PrecioAdicional = -120m }\n\n// Servicio extra\nnew Especificacion { Nombre = \"Garant√≠a extendida\", PrecioAdicional = 99m }\n```\n\n### 3. Orden\n\nRepresenta un pedido completo realizado por un cliente.\n\n```csharp\npublic class Orden\n{\n    public int Id { get; set; }\n    public DateTime FechaCreacion { get; set; }          // 2025-11-23 19:45:32\n    public string DireccionEntrega { get; set; }        // \"Calle 123, Ciudad\"\n    public string NombreCliente { get; set; }            // \"Juan P√©rez\"\n    public string EmailCliente { get; set; }             // \"juan@example.com\"\n    public List<ItemOrden> Items { get; set; }           // Productos en la orden\n    \n    // Propiedad calculada\n    public decimal PrecioTotal => Items.Sum(i => i.PrecioTotal);\n}\n```\n\n**Ejemplo:**\n```csharp\nvar orden = new Orden\n{\n    Id = 1,\n    FechaCreacion = DateTime.Now,\n    NombreCliente = \"Juan P√©rez\",\n    EmailCliente = \"juan@example.com\",\n    DireccionEntrega = \"Calle Principal 123, Madrid, Espa√±a\",\n    Items = [...]\n};\n```\n\n### 4. ItemOrden\n\nUn producto espec√≠fico dentro de una orden (puede estar personalizado).\n\n```csharp\npublic class ItemOrden\n{\n    public int Id { get; set; }\n    public int ProductoTecnologicoId { get; set; }       // FK al producto\n    public ProductoTecnologico? ProductoTecnologico { get; set; }\n    public int Cantidad { get; set; }                    // 2 unidades\n    public decimal PrecioBaseProducto { get; set; }      // Precio guardado\n    public List<EspecificacionOrden> \n        EspecificacionesSeleccionadas { get; set; }      // Especificaciones\n    \n    // Propiedad calculada (precio sin cantidad)\n    public decimal PrecioTotal =>\n        PrecioBaseProducto + EspecificacionesSeleccionadas\n            .Sum(e => e.PrecioEspecificacion);\n}\n```\n\n**Ejemplo:**\n```csharp\nvar item = new ItemOrden\n{\n    ProductoTecnologicoId = 1,\n    Cantidad = 1,\n    PrecioBaseProducto = 1299.99m,\n    EspecificacionesSeleccionadas = [\n        new EspecificacionOrden { \n            EspecificacionId = 1, \n            PrecioEspecificacion = 200m \n        }\n    ]\n    // PrecioTotal = 1299.99 + 200 = 1499.99\n};\n```\n\n### 5. EspecificacionOrden\n\nUna especificaci√≥n seleccionada dentro de un item (hist√≥rico de precio).\n\n```csharp\npublic class EspecificacionOrden\n{\n    public int Id { get; set; }\n    public int EspecificacionId { get; set; }            // FK a especificaci√≥n\n    public Especificacion? Especificacion { get; set; }\n    public decimal PrecioEspecificacion { get; set; }    // Precio al momento de compra\n}\n```\n\n**Ejemplo:**\n```csharp\nnew EspecificacionOrden\n{\n    EspecificacionId = 1,\n    Especificacion = especificacionDb,  // Referencia completa\n    PrecioEspecificacion = 200m         // Precio guardado\n}\n```\n\n---\n\n## üîÑ Flujo de Datos\n\n### 1. Cargar Cat√°logo (P√°gina Index)\n\n```\nUsuario abre http://localhost:5000\n                    ‚Üì\n        IndexPage se inicializa\n                    ‚Üì\n    DbContext carga ProductosTecnologicos\n       con Include(Especificaciones)\n                    ‚Üì\n    Se genera Grid de 8 productos\n                    ‚Üì\nUsuario ve cat√°logo filtrable\n```\n\n### 2. Personalizar Producto\n\n```\nUsuario hace clic \"Personalizar\"\n                    ‚Üì\n    Modal se abre con producto\n       y todas sus especificaciones\n                    ‚Üì\nUsuario marca checkboxes\n                    ‚Üì\nPrecio se calcula en tiempo real:\n  Total = PrecioBase + \n          Œ£(EspecificacionesSeleccionadas)\n                    ‚Üì\nUsuario haz clic \"Agregar al Carrito\"\n                    ‚Üì\nItemOrden se crea con:\n  - ProductoTecnologicoId\n  - EspecificacionesSeleccionadas[]\n  - Cantidad = 1\n                    ‚Üì\nItem se agrega a EstadoPedido.Items\n                    ‚Üì\nModal se cierra, contador del carrito ++\n```\n\n### 3. Realizar Pedido (Flujo Completo)\n\n```\nUsuario hace clic en carrito\n                    ‚Üì\n    Llega a p√°gina Checkout\n                    ‚Üì\nVe todos los ItemsOrden en el carrito\n                    ‚Üì\nPuede modificar cantidades o eliminar\n                    ‚Üì\nCompleta formulario:\n  - Nombre cliente\n  - Email\n  - Direcci√≥n\n                    ‚Üì\nHaz clic \"Confirmar Pedido\"\n                    ‚Üì\nBackend carga Especificaciones de DB:\n  (por si los precios cambiaron)\n                    ‚Üì\nClona todos los ItemOrden:\n  - Copia ProductoTecnologicoId\n  - Copia Cantidad\n  - Copia EspecificacionesSeleccionadas\n                    ‚Üì\nCrea nueva Orden:\n  - GuardaNombreCliente\n  - Guarda EmailCliente\n  - Guarda DireccionEntrega\n  - Asigna Items clonados\n  - FechaCreacion = DateTime.Now\n                    ‚Üì\nDbContext.SaveChangesAsync()\n  (Inserta en base de datos)\n                    ‚Üì\nEstadoPedido.LimpiarCarrito()\n                    ‚Üì\nRedirige a /mis-pedidos\n                    ‚Üì\nUsuario ve su pedido en historial\n```\n\n### 4. Ver Historial (P√°gina MisPedidos)\n\n```\nUsuario abre /mis-pedidos\n                    ‚Üì\n    Carga todas las Ordenes de DB\n       con Include(Items)\n           .ThenInclude(ProductoTecnologico)\n           .ThenInclude(EspecificacionesSeleccionadas)\n                    ‚Üì\n    Ordena por FechaCreacion DESC\n       (m√°s recientes primero)\n                    ‚Üì\n    Genera tarjeta para cada orden con:\n      - ID de orden\n      - Fecha y hora\n      - Estado\n      - Datos cliente\n      - Lista de items\n      - Total\n                    ‚Üì\nUsuario ve toda su historia de compras\n```\n\n---\n\n## üìÇ Estructura del Proyecto\n\n```\nTechStore/\n‚îÇ\n‚îú‚îÄ‚îÄ üìÅ Components/                    # Componentes Blazor\n‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Layout/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainLayout.razor          # Layout principal (header + footer)\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MainLayout.razor.css      # Estilos del layout\n‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Pages/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Index.razor               # P√°gina del cat√°logo\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Checkout.razor            # P√°gina de checkout\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MisPedidos.razor          # P√°gina de historial\n‚îÇ   ‚îú‚îÄ‚îÄ App.razor                     # Componente ra√≠z\n‚îÇ   ‚îú‚îÄ‚îÄ Routes.razor                  # Configuraci√≥n de rutas\n‚îÇ   ‚îî‚îÄ‚îÄ _Imports.razor                # Imports globales (using statements)\n‚îÇ\n‚îú‚îÄ‚îÄ üìÅ Data/                          # Capa de datos\n‚îÇ   ‚îú‚îÄ‚îÄ TechStoreContext.cs           # DbContext + seed data\n‚îÇ   ‚îî‚îÄ‚îÄ EstadoPedido.cs               # Servicio de carrito (scoped)\n‚îÇ\n‚îú‚îÄ‚îÄ üìÅ Models/                        # Modelos de datos\n‚îÇ   ‚îú‚îÄ‚îÄ ProductoTecnologico.cs\n‚îÇ   ‚îú‚îÄ‚îÄ Especificacion.cs\n‚îÇ   ‚îú‚îÄ‚îÄ Orden.cs\n‚îÇ   ‚îú‚îÄ‚îÄ ItemOrden.cs\n‚îÇ   ‚îî‚îÄ‚îÄ EspecificacionOrden.cs\n‚îÇ\n‚îú‚îÄ‚îÄ üìÅ wwwroot/                       # Archivos est√°ticos\n‚îÇ   ‚îî‚îÄ‚îÄ üìÅ css/\n‚îÇ       ‚îî‚îÄ‚îÄ app.css                   # Estilos globales\n‚îÇ\n‚îú‚îÄ‚îÄ Program.cs                        # Punto de entrada\n‚îú‚îÄ‚îÄ TechStore.csproj                  # Archivo de proyecto\n‚îú‚îÄ‚îÄ appsettings.json                  # Configuraci√≥n\n‚îú‚îÄ‚îÄ techstore.db                      # Base de datos SQLite (auto-generada)\n‚îú‚îÄ‚îÄ README.md                         # Este archivo\n‚îî‚îÄ‚îÄ replit.md                         # Documentaci√≥n t√©cnica\n```\n\n---\n\n## üîå API y Servicios\n\n### EstadoPedido (Carrito)\n\n```csharp\n// Servicio scoped que vive durante toda la sesi√≥n del usuario\n\npublic class EstadoPedido\n{\n    public List<ItemOrden> Items { get; set; }\n    \n    // Agrega un producto simple al carrito\n    public void AgregarProducto(ProductoTecnologico producto)\n    \n    // Agrega un item personalizado al carrito\n    public void AgregarItem(ItemOrden item)\n    \n    // Elimina un item del carrito\n    public void RemoverItem(ItemOrden item)\n    \n    // Calcula el total: Œ£(item.PrecioTotal * item.Cantidad)\n    public decimal PrecioTotal { get; }\n    \n    // Vac√≠a completamente el carrito\n    public void LimpiarCarrito()\n}\n```\n\n### TechStoreContext (Base de Datos)\n\n```csharp\n// DbContext de Entity Framework Core\n\npublic class TechStoreContext : DbContext\n{\n    // Tablas de base de datos\n    public DbSet<ProductoTecnologico> ProductosTecnologicos\n    public DbSet<Especificacion> Especificaciones\n    public DbSet<Orden> Ordenes\n    public DbSet<ItemOrden> ItemsOrden\n    \n    // OnModelCreating: Incluye 8 productos + 14 especificaciones\n    // de ejemplo (seed data)\n}\n```\n\n### Inyecci√≥n de Dependencias (Program.cs)\n\n```csharp\n// Registros de servicios:\n\n// DbContext con SQLite\nbuilder.Services.AddDbContext<TechStoreContext>(options =>\n    options.UseSqlite(\"Data Source=techstore.db\"));\n\n// Carrito de la sesi√≥n del usuario\nbuilder.Services.AddScoped<EstadoPedido>();\n\n// Componentes Blazor interactivos\nbuilder.Services.AddRazorComponents()\n    .AddInteractiveServerComponents();\n```\n\n---\n\n## üîÑ Cambios Realizados Respecto al Original\n\nEste proyecto fue transformado completamente desde un concepto de \"Blazing Pizza\" (pizzer√≠a) a una tienda de tecnolog√≠a.\n\n### üìä Resumen de Cambios\n\n| Aspecto | Antes (Pizza) | Ahora (TechStore) |\n|---------|---------------|-------------------|\n| **Nombre Proyecto** | PizzaStore | TechStore |\n| **Tem√°tica** | Pizzas y toppings | Productos tecnol√≥gicos |\n| **Modelo Principal** | `Pizza` | `ProductoTecnologico` |\n| **Extras** | `Topping` (pepperoni, queso) | `Especificacion` (RAM, SSD, licencias) |\n| **Productos** | 8 tipos de pizza | 8 productos tech |\n| **Categor√≠as** | Specials | Hardware/Software/Servicios TI |\n| **Colores** | Rojo/naranja | Cyan/p√∫rpura/negro |\n| **Tema Visual** | C√°lido y acogedor | Moderno y tecnol√≥gico |\n| **Tipograf√≠a** | Baloo Bhaina | Inter (Google Fonts) |\n\n### üî§ Cambios en Clases\n\n| Original | Nuevo | Raz√≥n |\n|----------|-------|-------|\n| Pizza | ProductoTecnologico | Representa ahora productos tech |\n| Topping | Especificacion | Para upgrades t√©cnicos |\n| Special | TipoProducto (enum) | Mejor organizaci√≥n por categor√≠as |\n| Order | Orden | Nomenclatura en espa√±ol |\n| OrderItem | ItemOrden | Consistencia de nombres |\n| OrderTopping | EspecificacionOrden | Especificaci√≥n en orden |\n| PizzaStore | TechStore | Nombre de la tienda |\n| OrderState | EstadoPedido | Nomenclatura en espa√±ol |\n\n### üé® Cambios Visuales\n\n```css\n/* Antes */\nbackground-color: #ff6b35;      /* Naranja pizzer√≠a */\nfont-family: 'Baloo Bhaina';\n\n/* Ahora */\nbackground: linear-gradient(135deg, #0f172a, #1e293b);  /* Oscuro moderno */\nfont-family: 'Inter', sans-serif;                        /* Moderno y limpio */\n\n/* Colores principales */\n--primary: #06b6d4;          /* Cyan brillante */\n--secondary: #8b5cf6;        /* P√∫rpura */\n--bg-dark: #0f172a;          /* Negro profundo */\n```\n\n### üì¶ Cambios en Base de Datos\n\n```\nAntes:\n‚îú‚îÄ‚îÄ Pizzas (8 registros)\n‚îú‚îÄ‚îÄ Toppings (16+ registros)\n‚îú‚îÄ‚îÄ Specials (4-8 registros)\n‚îî‚îÄ‚îÄ Orders/OrderItems\n\nAhora:\n‚îú‚îÄ‚îÄ ProductosTecnologicos (8 registros)\n‚îú‚îÄ‚îÄ Especificaciones (14 registros)\n‚îú‚îÄ‚îÄ Ordenes\n‚îú‚îÄ‚îÄ ItemsOrden\n‚îî‚îÄ‚îÄ EspecificacionOrden\n```\n\n### üõçÔ∏è Cambios en Cat√°logo\n\n**ANTES - 8 Pizzas:**\n- Margherita, Pepperoni, Hawaiian, Meat Lovers, etc.\n\n**AHORA - 8 Productos Tecnol√≥gicos:**\n1. üíª Laptop Dell XPS 15 - $1,299.99\n2. üéÆ PC Gaming Gamer Pro - $1,899.99\n3. üñ•Ô∏è Monitor LG UltraWide 34\" - $599.99\n4. üì¶ Microsoft Office 365 Business - $149.99\n5. üíø Windows 11 Pro - $199.99\n6. üé® Adobe Creative Cloud - $599.99\n7. üõ†Ô∏è Soporte T√©cnico Premium - $299.99\n8. üíº Desarrollo de Software a Medida - $4,999.99\n\n### ‚ú® Cambios en Especificaciones\n\n**ANTES - Toppings de Pizza:**\n- Pepperoni (+$2.50)\n- Mushrooms (+$1.50)\n- Extra Cheese (+$2.00)\n- Olives (+$1.75)\n\n**AHORA - Upgrades T√©cnicos (14 total):**\n- RAM 32GB upgrade (+$200)\n- SSD 2TB NVMe upgrade (+$300)\n- RTX 4080 upgrade (+$500)\n- Garant√≠a extendida 3 a√±os (+$99)\n- Licencias adicionales (x5) (+$500)\n- Plan anual con descuento 20% (-$120) ‚≠ê\n- Y muchos m√°s...\n\n---\n\n## ‚öôÔ∏è Configuraci√≥n\n\n### appsettings.json\n\n```json\n{\n  \"Logging\": {\n    \"LogLevel\": {\n      \"Default\": \"Information\",\n      \"Microsoft.AspNetCore\": \"Warning\"\n    }\n  },\n  \"AllowedHosts\": \"*\"\n}\n```\n\n### Program.cs - Configuraci√≥n Importante\n\n```csharp\n// Puerto personalizado (0.0.0.0:5000 para aceptar conexiones externas)\napp.Run(\"http://0.0.0.0:5000\");\n\n// Base de datos SQLite\n\"Data Source=techstore.db\"\n\n// Inyecci√≥n de servicios\nbuilder.Services.AddScoped<EstadoPedido>();\nbuilder.Services.AddDbContext<TechStoreContext>();\n```\n\n### Variables de Entorno\n\n```bash\n# No hay variables de entorno requeridas\n# Todos los datos se guardan localmente en techstore.db\n# La configuraci√≥n est√° en appsettings.json\n```\n\n---\n\n## üêõ Soluci√≥n de Problemas\n\n### ‚ùå Problema: Base de datos vac√≠a\n\n**S√≠ntoma**: No ves productos al abrir la app\n\n**Soluci√≥n**:\n```bash\n# Elimina la DB antigua\nrm -f techstore.db\n\n# Reinicia la app (se recrear√° con seed data)\ndotnet run\n```\n\n### ‚ùå Problema: Puerto 5000 en uso\n\n**S√≠ntoma**: \"Address already in use\"\n\n**Soluci√≥n**:\n```bash\n# Cambia el puerto en Program.cs:\napp.Run(\"http://0.0.0.0:5001\");  // Usa 5001 en lugar de 5000\n```\n\n### ‚ùå Problema: Los cambios CSS no se ven\n\n**S√≠ntoma**: Los estilos no actualizan\n\n**Soluci√≥n**:\n```bash\n# Limpia el cache del navegador:\n# Press Ctrl+Shift+R (Windows/Linux) o Cmd+Shift+R (Mac)\n\n# O desde DevTools:\n1. F12 ‚Üí Network tab\n2. Marca \"Disable cache\"\n3. Recarga la p√°gina\n```\n\n### ‚ùå Problema: Errores de base de datos\n\n**S√≠ntoma**: \"DbContext unable to establish connection\"\n\n**Soluci√≥n**:\n```bash\n# Verifica que .NET 8.0 est√° instalado\ndotnet --version\n\n# Limpia y restaura\ndotnet clean\ndotnet restore\n\n# Vuelve a ejecutar\ndotnet run\n```\n\n---\n\n## üöÄ Roadmap Futuro\n\n### Fase 1 (Pr√≥ximo - En Desarrollo)\n\n- [ ] **Sistema de Autenticaci√≥n de Usuarios**\n  - Login/Registro con email\n  - Perfiles de usuario\n  - √ìrdenes asociadas a usuario (no an√≥nimas)\n  \n- [ ] **Gesti√≥n de Inventario**\n  - Stock disponible por producto\n  - Notificaciones de productos agotados\n  - Alertas de bajo stock\n\n- [ ] **Sistema de Pago**\n  - Integraci√≥n Stripe\n  - M√∫ltiples m√©todos de pago\n  - Confirmaci√≥n de pago por email\n\n### Fase 2 (En Planificaci√≥n)\n\n- [ ] **B√∫squeda Avanzada**\n  - B√∫squeda por texto\n  - Filtros por rango de precio\n  - Ordenamiento (precio, popularidad, calificaci√≥n)\n\n- [ ] **Sistema de Comentarios y Calificaciones**\n  - Reviews de productos\n  - Calificaciones (1-5 estrellas)\n  - Fotos de clientes\n\n- [ ] **Carrito Persistente**\n  - Guardar carrito en base de datos\n  - Carrito disponible entre sesiones\n  - Sincronizaci√≥n en m√∫ltiples dispositivos\n\n### Fase 3 (Largo Plazo)\n\n- [ ] **Panel de Administraci√≥n**\n  - CRUD de productos\n  - Gesti√≥n de especificaciones\n  - Reportes de ventas\n  - Gesti√≥n de usuarios\n\n- [ ] **Recomendaciones Personalizadas**\n  - Basadas en historial de compras\n  - Machine Learning (similar items)\n  - \"Usuarios tambi√©n compraron\"\n\n- [ ] **Wishlist / Lista de Deseos**\n  - Guardar favoritos\n  - Notificaciones de descuentos\n  - Compartir lista\n\n- [ ] **Email Marketing**\n  - Newsletter de nuevos productos\n  - Recordatorios de carrito abandonado\n  - Ofertas personalizadas\n\n- [ ] **An√°lytica Avanzada**\n  - Dashboard de ventas\n  - Comportamiento de usuarios\n  - Productos m√°s vendidos\n  - Funnel de conversi√≥n\n\n- [ ] **Optimizaci√≥n Mobile**\n  - App m√≥vil nativa (iOS/Android)\n  - Soporte para pagos m√≥viles\n  - One-click checkout\n\n---\n\n## üìã Informaci√≥n de Usuario y √ìrdenes\n\n### üë§ Informaci√≥n del Cliente en √ìrdenes\n\nActualmente, el sistema captura la siguiente informaci√≥n del cliente al realizar un pedido:\n\n```csharp\npublic string NombreCliente { get; set; }        // Nombre completo\npublic string EmailCliente { get; set; }         // Email de contacto\npublic string DireccionEntrega { get; set; }    // Direcci√≥n completa\n```\n\n### üìä Datos Guardados en Cada Orden\n\n```\nOrden #123\n‚îú‚îÄ‚îÄ FechaCreacion: 2025-11-23 19:45:32\n‚îú‚îÄ‚îÄ NombreCliente: Juan P√©rez Garc√≠a\n‚îú‚îÄ‚îÄ EmailCliente: juan.perez@example.com\n‚îú‚îÄ‚îÄ DireccionEntrega: Calle Principal 123, apt. 5A\n‚îÇ                    28001 Madrid, Espa√±a\n‚îú‚îÄ‚îÄ Items: [\n‚îÇ   ‚îú‚îÄ‚îÄ Laptop Dell XPS 15 (Qty: 1)\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RAM 32GB (+$200)\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SSD 1TB (+$150)\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Garant√≠a extendida (+$99)\n‚îÇ   ‚îÇ   Subtotal: $1,749.99\n‚îÇ   ‚îÇ\n‚îÇ   ‚îî‚îÄ‚îÄ Windows 11 Pro (Qty: 1)\n‚îÇ       ‚îî‚îÄ‚îÄ Instalaci√≥n (+$49)\n‚îÇ       Subtotal: $248.99\n‚îÇ\n‚îî‚îÄ‚îÄ PrecioTotal: $1,998.98\n```\n\n### üîê Privacidad y Seguridad\n\n‚ö†Ô∏è **Nota Importante**: La versi√≥n actual **NO incluye sistema de usuarios**. Todos los pedidos se guardan como an√≥nimos. \n\n**Mejoras de seguridad planificadas:**\n- Autenticaci√≥n de usuarios\n- Encriptaci√≥n de datos sensibles\n- HTTPS obligatorio\n- Validaci√≥n de inputs\n- GDPR compliance\n- Backup autom√°tico de datos\n\n---\n\n## üôè Cr√©ditos\n\n### Recursos Utilizados\n\n- **Framework**: [ASP.NET Core 8.0](https://dotnet.microsoft.com/)\n- **Blazor**: [Microsoft Blazor Documentation](https://learn.microsoft.com/blazor/)\n- **Im√°genes**: [Unsplash](https://unsplash.com/) - Im√°genes gratuitas de alta calidad\n- **Tipograf√≠a**: [Google Fonts - Inter](https://fonts.google.com/)\n- **Inspiraci√≥n**: [Blazing Pizza Sample](https://github.com/dotnet-architecture/eShopOnBlazor)\n\n### Contribuciones\n\nEste proyecto fue creado como demostraci√≥n de una tienda de tecnolog√≠a moderna usando tecnolog√≠as Microsoft.\n\n### Licencia\n\nMIT License - Libre para usar, modificar y distribuir\n\n---\n\n## üìû Soporte y Contacto\n\n### ¬øNecesitas ayuda?\n\n- üìñ Lee la documentaci√≥n en este README\n- üîç Revisa la [Soluci√≥n de Problemas](#soluci√≥n-de-problemas)\n- üí¨ Consulta el archivo `replit.md` para detalles t√©cnicos\n\n### Reportar Bugs\n\nSi encuentras un bug:\n1. Describe el problema claramente\n2. Incluye pasos para reproducirlo\n3. Adjunta screenshots si es posible\n\n### Sugerencias de Mejora\n\nTienes ideas para mejorar TechStore?\n- Abre una issue\n- Proporciona ejemplos\n- S√© espec√≠fico con tu propuesta\n\n---\n\n## üìä Estad√≠sticas del Proyecto\n\n- **L√≠neas de C√≥digo**: ~2,500+\n- **Componentes Blazor**: 6\n- **Modelos de Datos**: 5\n- **Productos de Ejemplo**: 8\n- **Especificaciones de Ejemplo**: 14\n- **P√°ginas Principales**: 3\n- **Tiempo de Desarrollo**: 1 sesi√≥n\n- **Framework**: ASP.NET Core 8.0\n- **Base de Datos**: SQLite + EF Core 8.0\n- **Estilos CSS**: Tema oscuro personalizado\n\n---\n\n## ‚úÖ Checklist de Funcionalidades\n\n### Implementado ‚úÖ\n- [x] Cat√°logo de 8 productos\n- [x] Filtros por categor√≠a\n- [x] Modal de personalizaci√≥n\n- [x] Carrito interactivo\n- [x] Checkout completo\n- [x] Persistencia en base de datos\n- [x] Historial de √≥rdenes\n- [x] Tema oscuro moderno\n- [x] Responsive design\n- [x] Validaci√≥n de formularios\n- [x] C√°lculo autom√°tico de precios\n- [x] 14 especificaciones t√©cnicas\n\n### Pr√≥ximas Mejoras üîÑ\n- [ ] Sistema de usuarios\n- [ ] Autenticaci√≥n\n- [ ] Integraci√≥n de pagos\n- [ ] B√∫squeda avanzada\n- [ ] Calificaciones de productos\n- [ ] Panel administrativo\n- [ ] Email marketing\n- [ ] App m√≥vil\n\n---\n\n## üéâ ¬°Gracias por usar TechStore!\n\nEste proyecto demuestra c√≥mo construir una aplicaci√≥n web completa y profesional con ASP.NET Core 8.0 Blazor.\n\n**¬øListo para comenzar?**\n\n```bash\ndotnet run\n# Abre http://localhost:5000 en tu navegador\n```\n\n---\n\n**√öltima actualizaci√≥n**: Noviembre 23, 2025  \n**Versi√≥n**: 1.0.0  \n**Estado**: ‚úÖ Producci√≥n - Completamente Funcional\n","size_bytes":29394},"Models/Orden.cs":{"content":"namespace TechStore.Models;\n\npublic class Orden\n{\n    public int Id { get; set; }\n    public DateTime FechaCreacion { get; set; } = DateTime.Now;\n    public string DireccionEntrega { get; set; } = string.Empty;\n    public string NombreCliente { get; set; } = string.Empty;\n    public string EmailCliente { get; set; } = string.Empty;\n    public string TelefonoCliente { get; set; } = string.Empty;\n    public EstadoOrden Estado { get; set; } = EstadoOrden.Pendiente;\n    public string? NotasOrden { get; set; }\n    public int? UsuarioId { get; set; }\n    public Usuario? Usuario { get; set; }\n    public List<ItemOrden> Items { get; set; } = new();\n    \n    public decimal PrecioTotal => Items.Sum(i => i.PrecioTotal * i.Cantidad);\n    public int CantidadItems => Items.Sum(i => i.Cantidad);\n}\n\npublic enum EstadoOrden\n{\n    Pendiente,\n    Confirmada,\n    EnProceso,\n    Enviada,\n    Entregada,\n    Cancelada\n}\n","size_bytes":911},"Data/TechStoreContext.cs":{"content":"using Microsoft.EntityFrameworkCore;\nusing TechStore.Models;\n\nnamespace TechStore.Data;\n\npublic class TechStoreContext : DbContext\n{\n    public TechStoreContext(DbContextOptions<TechStoreContext> options)\n        : base(options)\n    {\n    }\n\n    public DbSet<ProductoTecnologico> ProductosTecnologicos { get; set; } = null!;\n    public DbSet<Especificacion> Especificaciones { get; set; } = null!;\n    public DbSet<Usuario> Usuarios { get; set; } = null!;\n    public DbSet<Orden> Ordenes { get; set; } = null!;\n    public DbSet<ItemOrden> ItemsOrden { get; set; } = null!;\n    public DbSet<ProductoFavorito> ProductosFavoritos { get; set; } = null!;\n\n    protected override void OnModelCreating(ModelBuilder modelBuilder)\n    {\n        base.OnModelCreating(modelBuilder);\n\n        modelBuilder.Entity<ProductoTecnologico>().HasData(\n            new ProductoTecnologico\n            {\n                Id = 1,\n                Nombre = \"Laptop Dell XPS 15\",\n                Descripcion = \"Laptop profesional de alto rendimiento con procesador Intel Core i7, ideal para desarrollo y dise√±o\",\n                PrecioBase = 1299.99m,\n                ImagenUrl = \"https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400\",\n                Tipo = TipoProducto.Hardware,\n                Categoria = \"Laptops\"\n            },\n            new ProductoTecnologico\n            {\n                Id = 2,\n                Nombre = \"PC Gaming Gamer Pro\",\n                Descripcion = \"Computador de escritorio potente con RTX 4070, ideal para gaming y renderizado 3D\",\n                PrecioBase = 1899.99m,\n                ImagenUrl = \"https://images.unsplash.com/photo-1587202372634-32705e3bf49c?w=400\",\n                Tipo = TipoProducto.Hardware,\n                Categoria = \"Computadores de Escritorio\"\n            },\n            new ProductoTecnologico\n            {\n                Id = 3,\n                Nombre = \"Monitor LG UltraWide 34\\\"\",\n                Descripcion = \"Monitor panor√°mico curvo 21:9, ideal para productividad y multitasking\",\n                PrecioBase = 599.99m,\n                ImagenUrl = \"https://images.unsplash.com/photo-1527443224154-c4a3942d3acf?w=400\",\n                Tipo = TipoProducto.Hardware,\n                Categoria = \"Monitores\"\n            },\n            new ProductoTecnologico\n            {\n                Id = 4,\n                Nombre = \"Microsoft Office 365 Business\",\n                Descripcion = \"Suite completa de productividad con Word, Excel, PowerPoint, Teams y m√°s\",\n                PrecioBase = 149.99m,\n                ImagenUrl = \"https://images.unsplash.com/photo-1633419461186-7d40a38105ec?w=400\",\n                Tipo = TipoProducto.Software,\n                Categoria = \"Suites de Oficina\"\n            },\n            new ProductoTecnologico\n            {\n                Id = 5,\n                Nombre = \"Windows 11 Pro\",\n                Descripcion = \"Sistema operativo profesional con caracter√≠sticas avanzadas de seguridad\",\n                PrecioBase = 199.99m,\n                ImagenUrl = \"https://images.unsplash.com/photo-1633419461186-7d40a38105ec?w=400\",\n                Tipo = TipoProducto.Software,\n                Categoria = \"Sistemas Operativos\"\n            },\n            new ProductoTecnologico\n            {\n                Id = 6,\n                Nombre = \"Adobe Creative Cloud\",\n                Descripcion = \"Acceso completo a todas las aplicaciones de Adobe: Photoshop, Illustrator, Premiere Pro y m√°s\",\n                PrecioBase = 599.99m,\n                ImagenUrl = \"https://images.unsplash.com/photo-1626785774573-4b799315345d?w=400\",\n                Tipo = TipoProducto.Software,\n                Categoria = \"Software de Dise√±o\"\n            },\n            new ProductoTecnologico\n            {\n                Id = 7,\n                Nombre = \"Soporte T√©cnico Premium\",\n                Descripcion = \"Soporte t√©cnico 24/7 con t√©cnicos especializados para tu negocio\",\n                PrecioBase = 299.99m,\n                ImagenUrl = \"https://images.unsplash.com/photo-1573164713714-d95e436ab8d6?w=400\",\n                Tipo = TipoProducto.Servicio,\n                Categoria = \"Servicios TI\"\n            },\n            new ProductoTecnologico\n            {\n                Id = 8,\n                Nombre = \"Desarrollo de Software a Medida\",\n                Descripcion = \"Desarrollo personalizado de aplicaciones empresariales seg√∫n tus necesidades\",\n                PrecioBase = 4999.99m,\n                ImagenUrl = \"https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=400\",\n                Tipo = TipoProducto.Servicio,\n                Categoria = \"Servicios TI\"\n            },\n            new ProductoTecnologico\n            {\n                Id = 9,\n                Nombre = \"iPhone 15 Pro Max\",\n                Descripcion = \"El √∫ltimo smartphone de Apple con chip A17 Pro y c√°mara de 48MP\",\n                PrecioBase = 1199.99m,\n                ImagenUrl = \"https://images.unsplash.com/photo-1592286927505-2e7e036c8bf6?w=400\",\n                Tipo = TipoProducto.Hardware,\n                Categoria = \"Smartphones\"\n            },\n            new ProductoTecnologico\n            {\n                Id = 10,\n                Nombre = \"MacBook Pro 16\\\" M3\",\n                Descripcion = \"Laptop profesional con chip M3, 36GB RAM, perfecta para desarrollo y edici√≥n de video\",\n                PrecioBase = 2499.99m,\n                ImagenUrl = \"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=400\",\n                Tipo = TipoProducto.Hardware,\n                Categoria = \"Laptops\"\n            }\n        );\n\n        modelBuilder.Entity<Especificacion>().HasData(\n            new Especificacion { Id = 1, Nombre = \"RAM 32GB (upgrade)\", PrecioAdicional = 200m, ProductoTecnologicoId = 1 },\n            new Especificacion { Id = 2, Nombre = \"SSD 1TB (upgrade)\", PrecioAdicional = 150m, ProductoTecnologicoId = 1 },\n            new Especificacion { Id = 3, Nombre = \"Garant√≠a extendida 3 a√±os\", PrecioAdicional = 99m, ProductoTecnologicoId = 1 },\n            \n            new Especificacion { Id = 4, Nombre = \"RAM 64GB (upgrade)\", PrecioAdicional = 400m, ProductoTecnologicoId = 2 },\n            new Especificacion { Id = 5, Nombre = \"SSD 2TB NVMe (upgrade)\", PrecioAdicional = 300m, ProductoTecnologicoId = 2 },\n            new Especificacion { Id = 6, Nombre = \"RTX 4080 (upgrade)\", PrecioAdicional = 500m, ProductoTecnologicoId = 2 },\n            \n            new Especificacion { Id = 7, Nombre = \"Brazo monitor ergon√≥mico\", PrecioAdicional = 79m, ProductoTecnologicoId = 3 },\n            new Especificacion { Id = 8, Nombre = \"Calibraci√≥n profesional\", PrecioAdicional = 149m, ProductoTecnologicoId = 3 },\n            \n            new Especificacion { Id = 9, Nombre = \"Licencias adicionales (x5)\", PrecioAdicional = 500m, ProductoTecnologicoId = 4 },\n            new Especificacion { Id = 10, Nombre = \"Soporte prioritario\", PrecioAdicional = 99m, ProductoTecnologicoId = 4 },\n            \n            new Especificacion { Id = 11, Nombre = \"Instalaci√≥n y configuraci√≥n\", PrecioAdicional = 49m, ProductoTecnologicoId = 5 },\n            \n            new Especificacion { Id = 12, Nombre = \"Plan anual (descuento 20%)\", PrecioAdicional = -120m, ProductoTecnologicoId = 6 },\n            \n            new Especificacion { Id = 13, Nombre = \"Visitas on-site incluidas\", PrecioAdicional = 199m, ProductoTecnologicoId = 7 },\n            \n            new Especificacion { Id = 14, Nombre = \"Mantenimiento 1 a√±o incluido\", PrecioAdicional = 999m, ProductoTecnologicoId = 8 },\n            \n            new Especificacion { Id = 15, Nombre = \"256GB Storage (upgrade)\", PrecioAdicional = 100m, ProductoTecnologicoId = 9 },\n            new Especificacion { Id = 16, Nombre = \"AppleCare+ 2 a√±os\", PrecioAdicional = 199m, ProductoTecnologicoId = 9 },\n            \n            new Especificacion { Id = 17, Nombre = \"SSD 1TB (upgrade)\", PrecioAdicional = 200m, ProductoTecnologicoId = 10 },\n            new Especificacion { Id = 18, Nombre = \"AppleCare+ 3 a√±os\", PrecioAdicional = 379m, ProductoTecnologicoId = 10 }\n        );\n    }\n}\n","size_bytes":8161},"Data/EstadoPedido.cs":{"content":"using TechStore.Models;\n\nnamespace TechStore.Data;\n\npublic class EstadoPedido\n{\n    public List<ItemOrden> Items { get; set; } = new();\n    \n    public void AgregarProducto(ProductoTecnologico producto)\n    {\n        var itemExistente = Items.FirstOrDefault(i => \n            i.ProductoTecnologicoId == producto.Id && \n            i.EspecificacionesSeleccionadas.Count == 0);\n        \n        if (itemExistente != null)\n        {\n            itemExistente.Cantidad++;\n        }\n        else\n        {\n            Items.Add(new ItemOrden\n            {\n                ProductoTecnologicoId = producto.Id,\n                ProductoTecnologico = producto,\n                Cantidad = 1,\n                PrecioBaseProducto = producto.PrecioBase,\n                EspecificacionesSeleccionadas = new List<EspecificacionOrden>()\n            });\n        }\n    }\n    \n    public void AgregarItem(ItemOrden item)\n    {\n        Items.Add(item);\n    }\n    \n    public void RemoverItem(ItemOrden item)\n    {\n        Items.Remove(item);\n    }\n    \n    public void LimpiarCarrito()\n    {\n        Items.Clear();\n    }\n    \n    public decimal PrecioTotal =>\n        Items.Sum(i => i.PrecioTotal * i.Cantidad);\n}\n","size_bytes":1193},"Models/EspecificacionOrden.cs":{"content":"namespace TechStore.Models;\n\npublic class EspecificacionOrden\n{\n    public int Id { get; set; }\n    public int EspecificacionId { get; set; }\n    public Especificacion? Especificacion { get; set; }\n    public decimal PrecioEspecificacion { get; set; }\n}\n","size_bytes":254},"Models/ItemOrden.cs":{"content":"namespace TechStore.Models;\n\npublic class ItemOrden\n{\n    public int Id { get; set; }\n    public int ProductoTecnologicoId { get; set; }\n    public ProductoTecnologico? ProductoTecnologico { get; set; }\n    public int Cantidad { get; set; }\n    public decimal PrecioBaseProducto { get; set; }\n    public List<EspecificacionOrden> EspecificacionesSeleccionadas { get; set; } = new();\n    \n    public decimal PrecioTotal =>\n        PrecioBaseProducto + EspecificacionesSeleccionadas.Sum(e => e.PrecioEspecificacion);\n}\n","size_bytes":517},"Components/Layout/MainLayout.razor.css":{"content":".page {\n    min-height: 100vh;\n    display: flex;\n    flex-direction: column;\n}\n\n.top-bar {\n    background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);\n    padding: 1.25rem 0;\n    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n    position: sticky;\n    top: 0;\n    z-index: 100;\n    border-bottom: 1px solid rgba(6, 182, 212, 0.15);\n    backdrop-filter: blur(10px);\n}\n\n.top-bar .container {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: 2rem;\n}\n\n.logo {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    text-decoration: none;\n    color: white;\n    font-weight: 700;\n    font-size: 1.5rem;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    flex-shrink: 0;\n}\n\n.logo:hover {\n    transform: scale(1.08);\n    filter: drop-shadow(0 0 12px rgba(6, 182, 212, 0.6));\n}\n\n.logo-icon {\n    font-size: 2rem;\n    animation: float 3s ease-in-out infinite;\n}\n\n@keyframes float {\n    0%, 100% { transform: translateY(0px); }\n    50% { transform: translateY(-4px); }\n}\n\n.nav-menu {\n    display: flex;\n    gap: 0.5rem;\n    flex: 1;\n    justify-content: center;\n}\n\n.nav-link {\n    color: rgba(255, 255, 255, 0.75);\n    text-decoration: none;\n    font-weight: 500;\n    padding: 0.75rem 1.25rem;\n    border-radius: 0.75rem;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    position: relative;\n    font-size: 0.95rem;\n}\n\n.nav-link::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 0;\n    height: 2px;\n    background: linear-gradient(90deg, #06b6d4, #0891b2);\n    transition: width 0.3s ease;\n    border-radius: 1px;\n}\n\n.nav-link:hover {\n    color: white;\n    background: rgba(6, 182, 212, 0.1);\n}\n\n.nav-link:hover::after {\n    width: 100%;\n}\n\n.nav-link.active {\n    color: #06b6d4;\n    background: rgba(6, 182, 212, 0.15);\n}\n\n.nav-link.active::after {\n    width: 100%;\n}\n\n.cart-summary {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    background: rgba(6, 182, 212, 0.15);\n    border: 1.5px solid rgba(6, 182, 212, 0.3);\n    padding: 0.75rem 1.75rem;\n    border-radius: 2.5rem;\n    cursor: pointer;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    flex-shrink: 0;\n}\n\n.cart-summary:hover {\n    background: rgba(6, 182, 212, 0.25);\n    border-color: rgba(6, 182, 212, 0.6);\n    transform: translateY(-3px);\n    box-shadow: 0 8px 20px rgba(6, 182, 212, 0.3);\n}\n\n.cart-icon {\n    font-size: 1.5rem;\n    transition: transform 0.3s ease;\n}\n\n.cart-summary:hover .cart-icon {\n    transform: scale(1.15);\n}\n\n.cart-count {\n    background: linear-gradient(135deg, #06b6d4, #0891b2);\n    color: white;\n    padding: 0.3rem 0.85rem;\n    border-radius: 1.25rem;\n    font-weight: 700;\n    font-size: 0.8rem;\n    box-shadow: 0 4px 12px rgba(6, 182, 212, 0.4);\n    min-width: 24px;\n    text-align: center;\n}\n\n.cart-total {\n    color: #06b6d4;\n    font-weight: 700;\n    font-size: 1.1rem;\n    letter-spacing: 0.3px;\n}\n\n.top-bar-right {\n    display: flex;\n    align-items: center;\n    gap: 1.5rem;\n    flex-shrink: 0;\n}\n\n.user-menu {\n    position: relative;\n}\n\n.user-greeting {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    color: white;\n    cursor: pointer;\n    padding: 0.75rem 1.25rem;\n    border-radius: 0.75rem;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    font-weight: 500;\n    background: rgba(255, 255, 255, 0.08);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.user-greeting:hover {\n    background: rgba(255, 255, 255, 0.15);\n    border-color: rgba(6, 182, 212, 0.4);\n    color: #06b6d4;\n}\n\n.user-dropdown {\n    display: none;\n    position: absolute;\n    top: calc(100% + 0.5rem);\n    right: 0;\n    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);\n    border: 1px solid rgba(6, 182, 212, 0.2);\n    border-radius: 0.75rem;\n    min-width: 220px;\n    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);\n    z-index: 1000;\n    overflow: hidden;\n    animation: slideDown 0.3s ease-out;\n}\n\n@keyframes slideDown {\n    from {\n        opacity: 0;\n        transform: translateY(-10px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n.user-menu:hover .user-dropdown {\n    display: block;\n}\n\n.dropdown-item {\n    display: block;\n    width: 100%;\n    padding: 1rem 1.25rem;\n    background: none;\n    border: none;\n    color: rgba(255, 255, 255, 0.8);\n    text-decoration: none;\n    cursor: pointer;\n    text-align: left;\n    transition: all 0.2s;\n    font-weight: 500;\n    font-size: 0.95rem;\n}\n\n.dropdown-item:first-child {\n    border-top: none;\n}\n\n.dropdown-item:hover {\n    background: rgba(6, 182, 212, 0.2);\n    color: #06b6d4;\n    padding-left: 1.5rem;\n}\n\n.user-dropdown hr {\n    border: none;\n    border-top: 1px solid rgba(255, 255, 255, 0.1);\n    margin: 0.5rem 0;\n}\n\n.logout-btn {\n    color: #fecaca !important;\n    font-weight: 600;\n}\n\n.logout-btn:hover {\n    background: rgba(239, 68, 68, 0.15) !important;\n    color: #ef4444 !important;\n}\n\n.auth-buttons {\n    display: flex;\n    gap: 1rem;\n    align-items: center;\n}\n\n.btn-login-header {\n    padding: 0.75rem 1.5rem;\n    background: transparent;\n    border: 1.5px solid rgba(255, 255, 255, 0.3);\n    color: white;\n    border-radius: 0.75rem;\n    text-decoration: none;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    font-weight: 600;\n    cursor: pointer;\n    font-size: 0.95rem;\n}\n\n.btn-login-header:hover {\n    border-color: #06b6d4;\n    color: #06b6d4;\n    background: rgba(6, 182, 212, 0.1);\n    transform: translateY(-2px);\n}\n\n.btn-register-header {\n    padding: 0.75rem 1.5rem;\n    background: linear-gradient(135deg, #06b6d4, #0891b2);\n    border: none;\n    color: white;\n    border-radius: 0.75rem;\n    text-decoration: none;\n    cursor: pointer;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    font-weight: 600;\n    font-size: 0.95rem;\n    box-shadow: 0 4px 15px rgba(6, 182, 212, 0.3);\n}\n\n.btn-register-header:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 8px 25px rgba(6, 182, 212, 0.4);\n}\n\n.main-content {\n    flex: 1;\n    padding: 2rem 0;\n}\n\n.footer {\n    background: #0f172a;\n    color: rgba(255, 255, 255, 0.6);\n    padding: 2rem 0;\n    text-align: center;\n    margin-top: auto;\n    border-top: 1px solid rgba(255, 255, 255, 0.05);\n}\n\n@media (max-width: 768px) {\n    .top-bar .container {\n        flex-wrap: wrap;\n        gap: 1rem;\n    }\n\n    .nav-menu {\n        order: 3;\n        width: 100%;\n        justify-content: flex-start;\n        flex-wrap: wrap;\n    }\n\n    .logo {\n        order: 1;\n    }\n\n    .top-bar-right {\n        order: 2;\n        width: auto;\n    }\n\n    .auth-buttons {\n        flex-direction: column;\n        gap: 0.75rem;\n        width: 100%;\n    }\n\n    .btn-login-header, .btn-register-header {\n        width: 100%;\n    }\n\n    .cart-summary {\n        width: 100%;\n        justify-content: center;\n    }\n}\n","size_bytes":6816},"Models/ProductoFavorito.cs":{"content":"namespace TechStore.Models;\n\npublic class ProductoFavorito\n{\n    public int Id { get; set; }\n    public int UsuarioId { get; set; }\n    public Usuario? Usuario { get; set; }\n    public int ProductoTecnologicoId { get; set; }\n    public ProductoTecnologico? ProductoTecnologico { get; set; }\n    public DateTime FechaAgregado { get; set; } = DateTime.Now;\n}\n","size_bytes":357},"Data/CarritoService.cs":{"content":"using TechStore.Models;\n\nnamespace TechStore.Data;\n\npublic class CarritoService\n{\n    private List<ItemOrden> items = new();\n    public event Action? OnChange;\n\n    public IReadOnlyList<ItemOrden> Items => items.AsReadOnly();\n    \n    public int CantidadTotal => items.Sum(i => i.Cantidad);\n    \n    public decimal PrecioTotal => items.Sum(i => i.PrecioTotal * i.Cantidad);\n\n    public void AgregarProducto(ProductoTecnologico producto)\n    {\n        var itemExistente = items.FirstOrDefault(i => \n            i.ProductoTecnologicoId == producto.Id && \n            !i.EspecificacionesSeleccionadas.Any());\n\n        if (itemExistente != null)\n        {\n            itemExistente.Cantidad++;\n        }\n        else\n        {\n            items.Add(new ItemOrden\n            {\n                ProductoTecnologicoId = producto.Id,\n                ProductoTecnologico = producto,\n                Cantidad = 1,\n                PrecioBaseProducto = producto.PrecioBase\n            });\n        }\n        \n        NotificarCambio();\n    }\n\n    public void AgregarItem(ItemOrden item)\n    {\n        var especIds = string.Join(\",\", item.EspecificacionesSeleccionadas\n            .Select(e => e.EspecificacionId)\n            .OrderBy(id => id));\n        \n        var itemExistente = items.FirstOrDefault(i => \n            i.ProductoTecnologicoId == item.ProductoTecnologicoId &&\n            string.Join(\",\", i.EspecificacionesSeleccionadas\n                .Select(e => e.EspecificacionId)\n                .OrderBy(id => id)) == especIds);\n\n        if (itemExistente != null)\n        {\n            itemExistente.Cantidad++;\n        }\n        else\n        {\n            items.Add(item);\n        }\n        \n        NotificarCambio();\n    }\n\n    public void RemoverItem(ItemOrden item)\n    {\n        items.Remove(item);\n        NotificarCambio();\n    }\n\n    public void ActualizarCantidad(ItemOrden item, int cantidad)\n    {\n        if (cantidad <= 0)\n        {\n            RemoverItem(item);\n        }\n        else\n        {\n            item.Cantidad = cantidad;\n            NotificarCambio();\n        }\n    }\n\n    public void LimpiarCarrito()\n    {\n        items.Clear();\n        NotificarCambio();\n    }\n\n    public bool EstaVacio() => !items.Any();\n\n    private void NotificarCambio()\n    {\n        OnChange?.Invoke();\n    }\n}\n","size_bytes":2314}},"version":2}